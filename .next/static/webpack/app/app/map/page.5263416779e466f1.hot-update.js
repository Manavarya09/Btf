"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/app/map/page",{

/***/ "(app-pages-browser)/./app/app/map/page.tsx":
/*!******************************!*\
  !*** ./app/app/map/page.tsx ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MapPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mapbox-gl */ \"(app-pages-browser)/./node_modules/mapbox-gl/dist/mapbox-gl.js\");\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_simulators_ev__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/simulators/ev */ \"(app-pages-browser)/./lib/simulators/ev.ts\");\n/* harmony import */ var _lib_simulators_parking__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/simulators/parking */ \"(app-pages-browser)/./lib/simulators/parking.ts\");\n/* harmony import */ var _lib_simulators_transit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/simulators/transit */ \"(app-pages-browser)/./lib/simulators/transit.ts\");\n/* harmony import */ var _lib_openchargemap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/openchargemap */ \"(app-pages-browser)/./lib/openchargemap.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// Set Mapbox access token\n(mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().accessToken) = \"pk.eyJ1IjoiZGhydXZwYW5kZXkiLCJhIjoiY21oenNhcWFiMDRnOTJrczJ4dndkeWJldSJ9.g418FvW1mYdy7I-XXMy6ng\" || 0;\nfunction MapPage() {\n    _s();\n    const mapContainer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [layers, setLayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        evChargers: true,\n        parking: true,\n        transit: true,\n        heat: false\n    });\n    const [evFilterType, setEvFilterType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"all\");\n    const [chargers, setChargers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [parking1, setParking] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [transitStops1, setTransitStops] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [userLocation, setUserLocation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapPage.useEffect\": ()=>{\n            // Load data\n            console.log(\"Loading map data...\");\n            const chargersData = (0,_lib_simulators_ev__WEBPACK_IMPORTED_MODULE_3__.getEVChargers)();\n            const parkingData = (0,_lib_simulators_parking__WEBPACK_IMPORTED_MODULE_4__.getParkingZones)();\n            console.log(\"EV Chargers loaded:\", chargersData.length);\n            console.log(\"Parking zones loaded:\", parkingData.length);\n            setChargers(chargersData);\n            setParking(parkingData);\n            // Get transit stops for Dubai area\n            const dubaiCenter = {\n                id: \"dubai-center\",\n                latitude: 25.2048,\n                longitude: 55.2708,\n                address: \"Downtown Dubai\",\n                district: \"Downtown Dubai\"\n            };\n            const transitData = (0,_lib_simulators_transit__WEBPACK_IMPORTED_MODULE_5__.getTransitStopsNearLocation)(dubaiCenter, 10);\n            console.log(\"Transit stops loaded:\", transitData.length);\n            setTransitStops(transitData);\n        }\n    }[\"MapPage.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapPage.useEffect\": ()=>{\n            if (!mapContainer.current) return;\n            // Initialize map\n            console.log(\"Initializing Mapbox map...\");\n            map.current = new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Map)({\n                container: mapContainer.current,\n                style: \"mapbox://styles/mapbox/streets-v12\",\n                center: [\n                    55.2708,\n                    25.2048\n                ],\n                zoom: 11\n            });\n            // Add navigation controls\n            map.current.addControl(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().NavigationControl)(), \"top-right\");\n            map.current.addControl(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().FullscreenControl)(), \"top-right\");\n            // Wait for map to load\n            map.current.on(\"load\", {\n                \"MapPage.useEffect\": ()=>{\n                    console.log(\"Map loaded successfully\");\n                    addMarkers();\n                }\n            }[\"MapPage.useEffect\"]);\n            // Handle map errors\n            map.current.on(\"error\", {\n                \"MapPage.useEffect\": (e)=>{\n                    console.error(\"Map error:\", e);\n                }\n            }[\"MapPage.useEffect\"]);\n            return ({\n                \"MapPage.useEffect\": ()=>{\n                    var _map_current;\n                    console.log(\"Cleaning up map\");\n                    (_map_current = map.current) === null || _map_current === void 0 ? void 0 : _map_current.remove();\n                }\n            })[\"MapPage.useEffect\"];\n        }\n    }[\"MapPage.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapPage.useEffect\": ()=>{\n            if (map.current) {\n                updateLayers();\n            }\n        }\n    }[\"MapPage.useEffect\"], [\n        layers,\n        chargers,\n        parking1,\n        transitStops1\n    ]);\n    const addMarkers = ()=>{\n        if (!map.current) return;\n        console.log(\"Adding markers for layers:\", layers);\n        console.log(\"Data counts - Chargers:\", chargers.length, \"Parking:\", parking1.length, \"Transit:\", transitStops1.length);\n        // Clear existing markers\n        const markers = document.querySelectorAll('.mapboxgl-marker');\n        markers.forEach((marker)=>marker.remove());\n        // Add EV charger markers\n        if (layers.evChargers && chargers.length > 0) {\n            console.log(\"Adding EV charger markers\");\n            chargers.forEach((charger)=>{\n                const el = createMarkerElement('charger', charger.availableSockets > 0 ? '#10b981' : '#ef4444');\n                new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Marker)(el).setLngLat([\n                    charger.longitude,\n                    charger.latitude\n                ]).setPopup(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Popup)({\n                    offset: 25\n                }).setHTML('\\n              <div class=\"p-2\">\\n                <h3 class=\"font-bold text-sm\">'.concat(charger.operator, '</h3>\\n                <p class=\"text-xs text-gray-600\">').concat(charger.address, '</p>\\n                <p class=\"text-xs mt-1\">').concat(charger.type, \" charging • \").concat(charger.powerOutput, 'kW</p>\\n                <p class=\"text-xs font-semibold ').concat(charger.availableSockets > 0 ? 'text-green-600' : 'text-red-600', '\">\\n                  ').concat(charger.availableSockets, \"/\").concat(charger.totalSockets, ' available\\n                </p>\\n                <p class=\"text-xs text-accent-warm font-bold\">AED ').concat(charger.price.toFixed(2), \"/kWh</p>\\n              </div>\\n            \"))).addTo(map.current);\n            });\n        }\n        // Add parking markers\n        if (layers.parking && parking1.length > 0) {\n            console.log(\"Adding parking markers\");\n            parking1.forEach((zone)=>{\n                const available = zone.capacity - zone.occupied;\n                const el = createMarkerElement('parking', available > 0 ? '#3b82f6' : '#ef4444');\n                new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Marker)(el).setLngLat([\n                    zone.longitude,\n                    zone.latitude\n                ]).setPopup(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Popup)({\n                    offset: 25\n                }).setHTML('\\n              <div class=\"p-2\">\\n                <h3 class=\"font-bold text-sm\">'.concat(zone.district, ' Parking</h3>\\n                <p class=\"text-xs text-gray-600\">').concat(zone.address, '</p>\\n                <p class=\"text-xs font-semibold ').concat(available > 0 ? 'text-blue-600' : 'text-red-600', '\">\\n                  ').concat(available, \"/\").concat(zone.capacity, ' spaces available\\n                </p>\\n                <p class=\"text-xs text-accent-warm font-bold\">AED ').concat(zone.hourlyRate, '/hour</p>\\n                <p class=\"text-xs text-gray-500\">').concat(zone.type, \" parking</p>\\n              </div>\\n            \"))).addTo(map.current);\n            });\n        }\n        // Add transit markers\n        if (layers.transit && transitStops1.length > 0) {\n            console.log(\"Adding transit markers\");\n            transitStops1.forEach((stop)=>{\n                const el = createMarkerElement('transit', '#8b5cf6');\n                new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Marker)(el).setLngLat([\n                    stop.longitude,\n                    stop.latitude\n                ]).setPopup(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Popup)({\n                    offset: 25\n                }).setHTML('\\n              <div class=\"p-2\">\\n                <h3 class=\"font-bold text-sm\">'.concat(stop.district, ' Transit Stop</h3>\\n                <p class=\"text-xs text-gray-600\">').concat(stop.address, '</p>\\n                <p class=\"text-xs font-semibold text-purple-600\">\\n                  ').concat(stop.routes.length, \" routes available\\n                </p>\\n                \").concat(stop.nextArrivals.slice(0, 2).map((arrival)=>'\\n                  <p class=\"text-xs text-gray-500\">\\n                    Route '.concat(arrival.routeId, \": \").concat(arrival.arrivalTime, \" min\\n                  </p>\\n                \")).join(''), \"\\n              </div>\\n            \"))).addTo(map.current);\n            });\n        }\n        // Add heat overlay\n        if (layers.heat) {\n            console.log(\"Adding heat overlay\");\n            addHeatOverlay();\n        }\n    };\n    const geocode = async (q)=>{\n        const token = \"pk.eyJ1IjoiZGhydXZwYW5kZXkiLCJhIjoiY21oenNhcWFiMDRnOTJrczJ4dndkeWJldSJ9.g418FvW1mYdy7I-XXMy6ng\" || 0;\n        const url = \"https://api.mapbox.com/geocoding/v5/mapbox.places/\".concat(encodeURIComponent(q), \".json?access_token=\").concat(token, \"&limit=1\");\n        const res = await fetch(url);\n        const data = await res.json();\n        if (data.features && data.features[0]) {\n            const f = data.features[0];\n            return {\n                longitude: f.center[0],\n                latitude: f.center[1],\n                name: f.place_name\n            };\n        }\n        return null;\n    };\n    const handleSearch = async ()=>{\n        if (!query.trim() || !map.current) return;\n        const loc = await geocode(query.trim());\n        if (loc) {\n            map.current.flyTo({\n                center: [\n                    loc.longitude,\n                    loc.latitude\n                ],\n                zoom: 13\n            });\n            new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Marker)().setLngLat([\n                loc.longitude,\n                loc.latitude\n            ]).addTo(map.current);\n            setUserLocation({\n                latitude: loc.latitude,\n                longitude: loc.longitude\n            });\n            const data = await (0,_lib_openchargemap__WEBPACK_IMPORTED_MODULE_6__.fetchChargersFromOCM)(loc.latitude, loc.longitude, 10);\n            setChargers(data);\n            const location = {\n                id: \"search\",\n                latitude: loc.latitude,\n                longitude: loc.longitude,\n                address: loc.name,\n                district: \"Dubai\"\n            };\n            const transitData = (0,_lib_simulators_transit__WEBPACK_IMPORTED_MODULE_5__.getTransitStopsNearLocation)(location, 5);\n            setTransitStops(transitData);\n        }\n    };\n    const handleUseCurrentLocation = ()=>{\n        if (!map.current) return;\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(async (position)=>{\n                const loc = {\n                    latitude: position.coords.latitude,\n                    longitude: position.coords.longitude\n                };\n                setUserLocation(loc);\n                map.current.flyTo({\n                    center: [\n                        loc.longitude,\n                        loc.latitude\n                    ],\n                    zoom: 13\n                });\n                new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Marker)().setLngLat([\n                    loc.longitude,\n                    loc.latitude\n                ]).addTo(map.current);\n                const data = await (0,_lib_openchargemap__WEBPACK_IMPORTED_MODULE_6__.fetchChargersFromOCM)(loc.latitude, loc.longitude, 10);\n                setChargers(data);\n                const location = {\n                    id: \"user\",\n                    latitude: loc.latitude,\n                    longitude: loc.longitude,\n                    address: \"Your location\",\n                    district: \"Dubai\"\n                };\n                const transitData = (0,_lib_simulators_transit__WEBPACK_IMPORTED_MODULE_5__.getTransitStopsNearLocation)(location, 5);\n                setTransitStops(transitData);\n            }, ()=>{\n                map.current.flyTo({\n                    center: [\n                        55.2708,\n                        25.2048\n                    ],\n                    zoom: 12\n                });\n            });\n        }\n    };\n    const createMarkerElement = (type, color)=>{\n        const el = document.createElement('div');\n        el.className = 'marker';\n        el.style.width = '20px';\n        el.style.height = '20px';\n        el.style.borderRadius = '50%';\n        el.style.backgroundColor = color;\n        el.style.border = '2px solid white';\n        el.style.boxShadow = '0 2px 4px rgba(0,0,0,0.3)';\n        // Add icon based on type\n        const icon = document.createElement('div');\n        icon.style.width = '12px';\n        icon.style.height = '12px';\n        icon.style.margin = '4px auto';\n        icon.style.backgroundSize = 'contain';\n        switch(type){\n            case 'charger':\n                icon.style.backgroundImage = \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='white' viewBox='0 0 24 24'%3E%3Cpath d='M7 2v11h3v9l7-12h-4l4-8z'/%3E%3C/svg%3E\\\")\";\n                break;\n            case 'parking':\n                icon.style.backgroundImage = \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='white' viewBox='0 0 24 24'%3E%3Cpath d='M13 3h-2v5H8v2h3v2h-2v2h2v2h-3v2h3v5h2v-5h2v-2h-2v-2h2v-2h-2V8h2V6h-2V3m-3 7h2v2h-2v-2m0 4h2v2h-2v-2z'/%3E%3C/svg%3E\\\")\";\n                break;\n            case 'transit':\n                icon.style.backgroundImage = \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='white' viewBox='0 0 24 24'%3E%3Cpath d='M18 11h-2V7h2m-4 0h-2v4h2m-4 0H8V7h2M6 7H4v4h2m12.5 6c.8 0 1.5-.7 1.5-1.5S19.3 10 18.5 10 17 10.7 17 11.5 17.7 13 18.5 13M6.5 13c.8 0 1.5-.7 1.5-1.5S7.8 10 7 10 5.5 10.7 5.5 11.5 6.2 13 6.5 13M21 5H3c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2z'/%3E%3C/svg%3E\\\")\";\n                break;\n        }\n        el.appendChild(icon);\n        return el;\n    };\n    const addHeatOverlay = ()=>{\n        if (!map.current) return;\n        // Create heat map source\n        const heatData = {\n            type: 'FeatureCollection',\n            features: chargers.map((charger)=>({\n                    type: 'Feature',\n                    geometry: {\n                        type: 'Point',\n                        coordinates: [\n                            charger.longitude,\n                            charger.latitude\n                        ]\n                    },\n                    properties: {\n                        heat: Math.random() * 100 // Simulated heat data\n                    }\n                }))\n        };\n        if (map.current.getSource('heat')) {\n            map.current.removeSource('heat');\n        }\n        map.current.addSource('heat', {\n            type: 'geojson',\n            data: heatData\n        });\n        map.current.addLayer({\n            id: 'heat-layer',\n            type: 'heatmap',\n            source: 'heat',\n            paint: {\n                'heatmap-weight': [\n                    'get',\n                    'heat'\n                ],\n                'heatmap-intensity': 0.5,\n                'heatmap-color': [\n                    'interpolate',\n                    [\n                        'linear'\n                    ],\n                    [\n                        'heatmap-density'\n                    ],\n                    0,\n                    'rgba(0, 0, 255, 0)',\n                    0.2,\n                    'rgb(0, 255, 0)',\n                    0.4,\n                    'rgb(255, 255, 0)',\n                    0.6,\n                    'rgb(255, 165, 0)',\n                    0.8,\n                    'rgb(255, 0, 0)',\n                    1,\n                    'rgb(139, 0, 0)'\n                ],\n                'heatmap-radius': 30,\n                'heatmap-opacity': 0.7\n            }\n        });\n    };\n    const updateLayers = ()=>{\n        console.log(\"Updating layers:\", layers);\n        addMarkers();\n        if (layers.heat && map.current) {\n            addHeatOverlay();\n        } else if (map.current && map.current.getLayer('heat-layer')) {\n            console.log(\"Removing heat layer\");\n            map.current.removeLayer('heat-layer');\n            map.current.removeSource('heat');\n        }\n    };\n    const handleLayerToggle = (layer)=>{\n        setLayers((prev)=>({\n                ...prev,\n                [layer]: !prev[layer]\n            }));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-3xl font-bold text-text-primary dark:text-white\",\n                        children: \"Multi-Layer Map\"\n                    }, void 0, false, {\n                        fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                        lineNumber: 338,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-text-secondary dark:text-gray-400\",\n                        children: \"Interactive Dubai mobility map with real-time data\"\n                    }, void 0, false, {\n                        fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                        lineNumber: 339,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                lineNumber: 337,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"card-base\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"h-96 relative rounded-lg overflow-hidden\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ref: mapContainer,\n                            className: \"h-full w-full\"\n                        }, void 0, false, {\n                            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                            lineNumber: 346,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute top-4 right-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2 space-y-2\",\n                            children: Object.entries(layers).map((param)=>{\n                                let [key, value] = param;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"flex items-center gap-2 cursor-pointer\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"checkbox\",\n                                            checked: value,\n                                            onChange: ()=>handleLayerToggle(key),\n                                            className: \"w-4 h-4 rounded\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                            lineNumber: 352,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium capitalize\",\n                                            children: key.replace(/([A-Z])/g, ' $1').trim()\n                                        }, void 0, false, {\n                                            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                            lineNumber: 358,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, key, true, {\n                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                    lineNumber: 351,\n                                    columnNumber: 15\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                            lineNumber: 349,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute bottom-4 left-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                    className: \"text-sm font-semibold mb-2\",\n                                    children: \"Legend\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                    lineNumber: 367,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-1 text-xs\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-3 h-3 rounded-full bg-green-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                    lineNumber: 370,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Available EV Chargers\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                    lineNumber: 371,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                            lineNumber: 369,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-3 h-3 rounded-full bg-red-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                    lineNumber: 374,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Full/Unavailable\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                    lineNumber: 375,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                            lineNumber: 373,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-3 h-3 rounded-full bg-blue-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                    lineNumber: 378,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Parking Available\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                    lineNumber: 379,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                            lineNumber: 377,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-3 h-3 rounded-full bg-purple-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                    lineNumber: 382,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Transit Stops\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                    lineNumber: 383,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                            lineNumber: 381,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                    lineNumber: 368,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                            lineNumber: 366,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                    lineNumber: 345,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                lineNumber: 344,\n                columnNumber: 7\n            }, this),\n            layers.evChargers && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"card-base\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between mb-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-sm\",\n                                children: \"EV Chargers Nearby\"\n                            }, void 0, false, {\n                                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                lineNumber: 393,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-2\",\n                                children: [\n                                    \"all\",\n                                    \"fast\",\n                                    \"slow\",\n                                    \"ultra-fast\"\n                                ].map((t)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setEvFilterType(t),\n                                        className: \"px-3 py-1 rounded text-xs \".concat(evFilterType === t ? \"bg-accent-warm text-white\" : \"bg-surface-dark dark:bg-gray-700\"),\n                                        children: t === 'all' ? 'All' : t.charAt(0).toUpperCase() + t.slice(1)\n                                    }, t, false, {\n                                        fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                        lineNumber: 396,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                lineNumber: 394,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                        lineNumber: 392,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-2 max-h-64 overflow-y-auto\",\n                        children: (evFilterType === \"all\" ? chargers : chargers.filter((c)=>c.type === evFilterType)).slice(0, 20).map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-3 border border-border-color dark:border-gray-700 rounded hover:bg-surface-dark dark:hover:bg-gray-700\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-between items-start\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm font-semibold\",\n                                                        children: c.operator\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                        lineNumber: 411,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-text-secondary dark:text-gray-400\",\n                                                        children: [\n                                                            c.address,\n                                                            \" • \",\n                                                            c.type,\n                                                            \" • \",\n                                                            c.powerOutput,\n                                                            \"kW\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                        lineNumber: 412,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                lineNumber: 410,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"px-2 py-1 rounded text-xs font-bold \".concat(c.availableSockets > 0 ? \"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400\" : \"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400\"),\n                                                children: [\n                                                    c.availableSockets,\n                                                    \"/\",\n                                                    c.totalSockets\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                lineNumber: 414,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                        lineNumber: 409,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-between text-xs mt-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    \"Reliability \",\n                                                    c.reliability,\n                                                    \"%\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                lineNumber: 417,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-semibold text-accent-warm\",\n                                                children: [\n                                                    \"AED \",\n                                                    c.price.toFixed(2),\n                                                    \"/kWh\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                                lineNumber: 418,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                        lineNumber: 416,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, c.id, true, {\n                                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                lineNumber: 408,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                        lineNumber: 406,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                lineNumber: 391,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-4 gap-3\",\n                children: [\n                    \"EV Chargers\",\n                    \"Parking\",\n                    \"Transit\",\n                    \"Heat Index\"\n                ].map((layer, index)=>{\n                    const key = Object.keys(layers)[index];\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"card-base flex items-center gap-2 cursor-pointer hover:bg-surface-dark\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"checkbox\",\n                                checked: layers[key],\n                                onChange: ()=>handleLayerToggle(key),\n                                className: \"w-4 h-4 rounded\"\n                            }, void 0, false, {\n                                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                lineNumber: 431,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"font-medium text-sm\",\n                                children: layer\n                            }, void 0, false, {\n                                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                lineNumber: 437,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, layer, true, {\n                        fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                        lineNumber: 430,\n                        columnNumber: 13\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                lineNumber: 426,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n        lineNumber: 336,\n        columnNumber: 5\n    }, this);\n}\n_s(MapPage, \"86ec8MY+ecnCxYeaJVVwwcXV7A0=\");\n_c = MapPage;\n{}/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n    className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n    children: [\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"card-base\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    className: \"font-semibold mb-2\",\n                    children: \"Transit Stops Nearby\"\n                }, void 0, false, {\n                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                    lineNumber: 448,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 max-h-64 overflow-y-auto\",\n                    children: transitStops.slice(0, 20).map((stop)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-3 border border-border-color dark:border-gray-700 rounded\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm font-semibold\",\n                                    children: [\n                                        stop.district,\n                                        \" Transit Stop\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                    lineNumber: 452,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-text-secondary dark:text-gray-400\",\n                                    children: stop.address\n                                }, void 0, false, {\n                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                    lineNumber: 453,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs\",\n                                    children: [\n                                        \"Routes: \",\n                                        stop.routes.length\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                    lineNumber: 454,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, stop.id, true, {\n                            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                            lineNumber: 451,\n                            columnNumber: 15\n                        }, undefined))\n                }, void 0, false, {\n                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                    lineNumber: 449,\n                    columnNumber: 11\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n            lineNumber: 447,\n            columnNumber: 9\n        }, undefined),\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"card-base\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    className: \"font-semibold mb-2\",\n                    children: \"Parking Nearby\"\n                }, void 0, false, {\n                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                    lineNumber: 460,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-2 max-h-64 overflow-y-auto\",\n                    children: parking.slice(0, 20).map((zone)=>{\n                        const available = zone.capacity - zone.occupied;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-3 border border-border-color dark:border-gray-700 rounded\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm font-semibold\",\n                                    children: [\n                                        zone.district,\n                                        \" Parking\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                    lineNumber: 466,\n                                    columnNumber: 19\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-text-secondary dark:text-gray-400\",\n                                    children: zone.address\n                                }, void 0, false, {\n                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                    lineNumber: 467,\n                                    columnNumber: 19\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs\",\n                                    children: [\n                                        available,\n                                        \"/\",\n                                        zone.capacity,\n                                        \" spaces • AED \",\n                                        zone.hourlyRate,\n                                        \"/hour\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                                    lineNumber: 468,\n                                    columnNumber: 19\n                                }, undefined)\n                            ]\n                        }, zone.id, true, {\n                            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                            lineNumber: 465,\n                            columnNumber: 17\n                        }, undefined);\n                    })\n                }, void 0, false, {\n                    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n                    lineNumber: 461,\n                    columnNumber: 11\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n            lineNumber: 459,\n            columnNumber: 9\n        }, undefined)\n    ]\n}, void 0, true, {\n    fileName: \"/Users/ashmit/Desktop/Btf/app/app/map/page.tsx\",\n    lineNumber: 446,\n    columnNumber: 7\n}, undefined);\nvar _c;\n$RefreshReg$(_c, \"MapPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9hcHAvbWFwL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUVvRDtBQUNuQjtBQUVtQjtBQUNPO0FBQ1k7QUFFWjtBQUUzRCwwQkFBMEI7QUFDMUJHLDhEQUFvQixHQUFHTSxnR0FBb0MsSUFBSSxDQUFFO0FBRWxELFNBQVNHOztJQUN0QixNQUFNQyxlQUFlWiw2Q0FBTUEsQ0FBaUI7SUFDNUMsTUFBTWEsTUFBTWIsNkNBQU1BLENBQXNCO0lBQ3hDLE1BQU0sQ0FBQ2MsUUFBUUMsVUFBVSxHQUFHZCwrQ0FBUUEsQ0FBQztRQUNuQ2UsWUFBWTtRQUNaQyxTQUFTO1FBQ1RDLFNBQVM7UUFDVEMsTUFBTTtJQUNSO0lBQ0EsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR3BCLCtDQUFRQSxDQUF5QztJQUN6RixNQUFNLENBQUNxQixVQUFVQyxZQUFZLEdBQUd0QiwrQ0FBUUEsQ0FBYyxFQUFFO0lBQ3hELE1BQU0sQ0FBQ2dCLFVBQVNPLFdBQVcsR0FBR3ZCLCtDQUFRQSxDQUFnQixFQUFFO0lBQ3hELE1BQU0sQ0FBQ3dCLGVBQWNDLGdCQUFnQixHQUFHekIsK0NBQVFBLENBQWdCLEVBQUU7SUFDbEUsTUFBTSxDQUFDMEIsT0FBT0MsU0FBUyxHQUFHM0IsK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDNEIsY0FBY0MsZ0JBQWdCLEdBQUc3QiwrQ0FBUUEsQ0FBaUQ7SUFFakdGLGdEQUFTQTs2QkFBQztZQUNSLFlBQVk7WUFDWmdDLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE1BQU1DLGVBQWU5QixpRUFBYUE7WUFDbEMsTUFBTStCLGNBQWM5Qix3RUFBZUE7WUFFbkMyQixRQUFRQyxHQUFHLENBQUMsdUJBQXVCQyxhQUFhRSxNQUFNO1lBQ3RESixRQUFRQyxHQUFHLENBQUMseUJBQXlCRSxZQUFZQyxNQUFNO1lBRXZEWixZQUFZVTtZQUNaVCxXQUFXVTtZQUVYLG1DQUFtQztZQUNuQyxNQUFNRSxjQUFj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Ozs7Ozs4Q0FDcEQsOERBQUM4RztvQ0FBRS9CLFdBQVU7OENBQWtEbkMsS0FBSzdDLE9BQU87Ozs7Ozs4Q0FDM0UsOERBQUMrRztvQ0FBRS9CLFdBQVU7O3dDQUFVO3dDQUFTbkMsS0FBS0MsTUFBTSxDQUFDbkQsTUFBTTs7Ozs7Ozs7MkJBSDFDa0QsS0FBS2hELEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7c0JBUXZCLDhEQUFDZ0g7WUFBSTdCLFdBQVU7OzhCQUNiLDhEQUFDNEM7b0JBQUc1QyxXQUFVOzhCQUFxQjs7Ozs7OzhCQUNuQyw4REFBQzZCO29CQUFJN0IsV0FBVTs4QkFDWnZHLFFBQVF1RSxLQUFLLENBQUMsR0FBRSxJQUFJM0UsR0FBRyxDQUFDLENBQUNtRTt3QkFDeEIsTUFBTUMsWUFBWUQsS0FBS0UsUUFBUSxHQUFHRixLQUFLRyxRQUFRO3dCQUMvQyxxQkFDRSw4REFBQ2tFOzRCQUFrQjdCLFdBQVU7OzhDQUMzQiw4REFBQytCO29DQUFFL0IsV0FBVTs7d0NBQXlCeEMsS0FBS3ZDLFFBQVE7d0NBQUM7Ozs7Ozs7OENBQ3BELDhEQUFDOEc7b0NBQUUvQixXQUFVOzhDQUFrRHhDLEtBQUt4QyxPQUFPOzs7Ozs7OENBQzNFLDhEQUFDK0c7b0NBQUUvQixXQUFVOzt3Q0FBV3ZDO3dDQUFVO3dDQUFFRCxLQUFLRSxRQUFRO3dDQUFDO3dDQUFlRixLQUFLSSxVQUFVO3dDQUFDOzs7Ozs7OzsyQkFIekVKLEtBQUszQyxFQUFFOzs7OztvQkFNckIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hc2htaXQvRGVza3RvcC9CdGYvYXBwL2FwcC9tYXAvcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IG1hcGJveGdsIGZyb20gXCJtYXBib3gtZ2xcIjtcbmltcG9ydCB7IEVWQ2hhcmdlciwgUGFya2luZ1pvbmUsIFRyYW5zaXRTdG9wIH0gZnJvbSBcIkAvdHlwZXMvbW9iaWxpdHlcIjtcbmltcG9ydCB7IGdldEVWQ2hhcmdlcnMgfSBmcm9tIFwiQC9saWIvc2ltdWxhdG9ycy9ldlwiO1xuaW1wb3J0IHsgZ2V0UGFya2luZ1pvbmVzIH0gZnJvbSBcIkAvbGliL3NpbXVsYXRvcnMvcGFya2luZ1wiO1xuaW1wb3J0IHsgZ2V0VHJhbnNpdFN0b3BzTmVhckxvY2F0aW9uIH0gZnJvbSBcIkAvbGliL3NpbXVsYXRvcnMvdHJhbnNpdFwiO1xuaW1wb3J0IHsgZ2V0SGVhdEluZGV4Rm9yTG9jYXRpb25zIH0gZnJvbSBcIkAvbGliL3NpbXVsYXRvcnMvaGVhdFwiO1xuaW1wb3J0IHsgZmV0Y2hDaGFyZ2Vyc0Zyb21PQ00gfSBmcm9tIFwiQC9saWIvb3BlbmNoYXJnZW1hcFwiO1xuXG4vLyBTZXQgTWFwYm94IGFjY2VzcyB0b2tlblxubWFwYm94Z2wuYWNjZXNzVG9rZW4gPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQVBCT1hfVE9LRU4gfHwgXCJcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWFwUGFnZSgpIHtcbiAgY29uc3QgbWFwQ29udGFpbmVyID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgbWFwID0gdXNlUmVmPG1hcGJveGdsLk1hcCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbGF5ZXJzLCBzZXRMYXllcnNdID0gdXNlU3RhdGUoe1xuICAgIGV2Q2hhcmdlcnM6IHRydWUsXG4gICAgcGFya2luZzogdHJ1ZSxcbiAgICB0cmFuc2l0OiB0cnVlLFxuICAgIGhlYXQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgW2V2RmlsdGVyVHlwZSwgc2V0RXZGaWx0ZXJUeXBlXSA9IHVzZVN0YXRlPFwiYWxsXCIgfCBcImZhc3RcIiB8IFwic2xvd1wiIHwgXCJ1bHRyYS1mYXN0XCI+KFwiYWxsXCIpO1xuICBjb25zdCBbY2hhcmdlcnMsIHNldENoYXJnZXJzXSA9IHVzZVN0YXRlPEVWQ2hhcmdlcltdPihbXSk7XG4gIGNvbnN0IFtwYXJraW5nLCBzZXRQYXJraW5nXSA9IHVzZVN0YXRlPFBhcmtpbmdab25lW10+KFtdKTtcbiAgY29uc3QgW3RyYW5zaXRTdG9wcywgc2V0VHJhbnNpdFN0b3BzXSA9IHVzZVN0YXRlPFRyYW5zaXRTdG9wW10+KFtdKTtcbiAgY29uc3QgW3F1ZXJ5LCBzZXRRdWVyeV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3VzZXJMb2NhdGlvbiwgc2V0VXNlckxvY2F0aW9uXSA9IHVzZVN0YXRlPHsgbGF0aXR1ZGU6IG51bWJlcjsgbG9uZ2l0dWRlOiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gTG9hZCBkYXRhXG4gICAgY29uc29sZS5sb2coXCJMb2FkaW5nIG1hcCBkYXRhLi4uXCIpO1xuICAgIGNvbnN0IGNoYXJnZXJzRGF0YSA9IGdldEVWQ2hhcmdlcnMoKTtcbiAgICBjb25zdCBwYXJraW5nRGF0YSA9IGdldFBhcmtpbmdab25lcygpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKFwiRVYgQ2hhcmdlcnMgbG9hZGVkOlwiLCBjaGFyZ2Vyc0RhdGEubGVuZ3RoKTtcbiAgICBjb25zb2xlLmxvZyhcIlBhcmtpbmcgem9uZXMgbG9hZGVkOlwiLCBwYXJraW5nRGF0YS5sZW5ndGgpO1xuICAgIFxuICAgIHNldENoYXJnZXJzKGNoYXJnZXJzRGF0YSk7XG4gICAgc2V0UGFya2luZyhwYXJraW5nRGF0YSk7XG4gICAgXG4gICAgLy8gR2V0IHRyYW5zaXQgc3RvcHMgZm9yIER1YmFpIGFyZWFcbiAgICBjb25zdCBkdWJhaUNlbnRlciA9IHtcbiAgICAgIGlkOiBcImR1YmFpLWNlbnRlclwiLFxuICAgICAgbGF0aXR1ZGU6IDI1LjIwNDgsXG4gICAgICBsb25naXR1ZGU6IDU1LjI3MDgsXG4gICAgICBhZGRyZXNzOiBcIkRvd250b3duIER1YmFpXCIsXG4gICAgICBkaXN0cmljdDogXCJEb3dudG93biBEdWJhaVwiLFxuICAgIH07XG4gICAgY29uc3QgdHJhbnNpdERhdGEgPSBnZXRUcmFuc2l0U3RvcHNOZWFyTG9jYXRpb24oZHViYWlDZW50ZXIsIDEwKTtcbiAgICBjb25zb2xlLmxvZyhcIlRyYW5zaXQgc3RvcHMgbG9hZGVkOlwiLCB0cmFuc2l0RGF0YS5sZW5ndGgpO1xuICAgIHNldFRyYW5zaXRTdG9wcyh0cmFuc2l0RGF0YSk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbWFwQ29udGFpbmVyLmN1cnJlbnQpIHJldHVybjtcblxuICAgIC8vIEluaXRpYWxpemUgbWFwXG4gICAgY29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgTWFwYm94IG1hcC4uLlwiKTtcbiAgICBtYXAuY3VycmVudCA9IG5ldyBtYXBib3hnbC5NYXAoe1xuICAgICAgY29udGFpbmVyOiBtYXBDb250YWluZXIuY3VycmVudCxcbiAgICAgIHN0eWxlOiBcIm1hcGJveDovL3N0eWxlcy9tYXBib3gvc3RyZWV0cy12MTJcIixcbiAgICAgIGNlbnRlcjogWzU1LjI3MDgsIDI1LjIwNDhdLCAvLyBEdWJhaSBjb29yZGluYXRlc1xuICAgICAgem9vbTogMTEsXG4gICAgfSk7XG5cbiAgICAvLyBBZGQgbmF2aWdhdGlvbiBjb250cm9sc1xuICAgIG1hcC5jdXJyZW50LmFkZENvbnRyb2wobmV3IG1hcGJveGdsLk5hdmlnYXRpb25Db250cm9sKCksIFwidG9wLXJpZ2h0XCIpO1xuICAgIG1hcC5jdXJyZW50LmFkZENvbnRyb2wobmV3IG1hcGJveGdsLkZ1bGxzY3JlZW5Db250cm9sKCksIFwidG9wLXJpZ2h0XCIpO1xuXG4gICAgLy8gV2FpdCBmb3IgbWFwIHRvIGxvYWRcbiAgICBtYXAuY3VycmVudC5vbihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJNYXAgbG9hZGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIGFkZE1hcmtlcnMoKTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBtYXAgZXJyb3JzXG4gICAgbWFwLmN1cnJlbnQub24oXCJlcnJvclwiLCAoZSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIk1hcCBlcnJvcjpcIiwgZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJDbGVhbmluZyB1cCBtYXBcIik7XG4gICAgICBtYXAuY3VycmVudD8ucmVtb3ZlKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1hcC5jdXJyZW50KSB7XG4gICAgICB1cGRhdGVMYXllcnMoKTtcbiAgICB9XG4gIH0sIFtsYXllcnMsIGNoYXJnZXJzLCBwYXJraW5nLCB0cmFuc2l0U3RvcHNdKTtcblxuICBjb25zdCBhZGRNYXJrZXJzID0gKCkgPT4ge1xuICAgIGlmICghbWFwLmN1cnJlbnQpIHJldHVybjtcblxuICAgIGNvbnNvbGUubG9nKFwiQWRkaW5nIG1hcmtlcnMgZm9yIGxheWVyczpcIiwgbGF5ZXJzKTtcbiAgICBjb25zb2xlLmxvZyhcIkRhdGEgY291bnRzIC0gQ2hhcmdlcnM6XCIsIGNoYXJnZXJzLmxlbmd0aCwgXCJQYXJraW5nOlwiLCBwYXJraW5nLmxlbmd0aCwgXCJUcmFuc2l0OlwiLCB0cmFuc2l0U3RvcHMubGVuZ3RoKTtcblxuICAgIC8vIENsZWFyIGV4aXN0aW5nIG1hcmtlcnNcbiAgICBjb25zdCBtYXJrZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1hcGJveGdsLW1hcmtlcicpO1xuICAgIG1hcmtlcnMuZm9yRWFjaChtYXJrZXIgPT4gbWFya2VyLnJlbW92ZSgpKTtcblxuICAgIC8vIEFkZCBFViBjaGFyZ2VyIG1hcmtlcnNcbiAgICBpZiAobGF5ZXJzLmV2Q2hhcmdlcnMgJiYgY2hhcmdlcnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS5sb2coXCJBZGRpbmcgRVYgY2hhcmdlciBtYXJrZXJzXCIpO1xuICAgICAgY2hhcmdlcnMuZm9yRWFjaCgoY2hhcmdlcikgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IGNyZWF0ZU1hcmtlckVsZW1lbnQoJ2NoYXJnZXInLCBjaGFyZ2VyLmF2YWlsYWJsZVNvY2tldHMgPiAwID8gJyMxMGI5ODEnIDogJyNlZjQ0NDQnKTtcbiAgICAgICAgbmV3IG1hcGJveGdsLk1hcmtlcihlbClcbiAgICAgICAgICAuc2V0TG5nTGF0KFtjaGFyZ2VyLmxvbmdpdHVkZSwgY2hhcmdlci5sYXRpdHVkZV0pXG4gICAgICAgICAgLnNldFBvcHVwKFxuICAgICAgICAgICAgbmV3IG1hcGJveGdsLlBvcHVwKHsgb2Zmc2V0OiAyNSB9KS5zZXRIVE1MKGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtMlwiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LXNtXCI+JHtjaGFyZ2VyLm9wZXJhdG9yfTwvaDM+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj4ke2NoYXJnZXIuYWRkcmVzc308L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIG10LTFcIj4ke2NoYXJnZXIudHlwZX0gY2hhcmdpbmcg4oCiICR7Y2hhcmdlci5wb3dlck91dHB1dH1rVzwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgZm9udC1zZW1pYm9sZCAke2NoYXJnZXIuYXZhaWxhYmxlU29ja2V0cyA+IDAgPyAndGV4dC1ncmVlbi02MDAnIDogJ3RleHQtcmVkLTYwMCd9XCI+XG4gICAgICAgICAgICAgICAgICAke2NoYXJnZXIuYXZhaWxhYmxlU29ja2V0c30vJHtjaGFyZ2VyLnRvdGFsU29ja2V0c30gYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LWFjY2VudC13YXJtIGZvbnQtYm9sZFwiPkFFRCAke2NoYXJnZXIucHJpY2UudG9GaXhlZCgyKX0va1doPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGApXG4gICAgICAgICAgKVxuICAgICAgICAgIC5hZGRUbyhtYXAuY3VycmVudCEpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHBhcmtpbmcgbWFya2Vyc1xuICAgIGlmIChsYXllcnMucGFya2luZyAmJiBwYXJraW5nLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQWRkaW5nIHBhcmtpbmcgbWFya2Vyc1wiKTtcbiAgICAgIHBhcmtpbmcuZm9yRWFjaCgoem9uZSkgPT4ge1xuICAgICAgICBjb25zdCBhdmFpbGFibGUgPSB6b25lLmNhcGFjaXR5IC0gem9uZS5vY2N1cGllZDtcbiAgICAgICAgY29uc3QgZWwgPSBjcmVhdGVNYXJrZXJFbGVtZW50KCdwYXJraW5nJywgYXZhaWxhYmxlID4gMCA/ICcjM2I4MmY2JyA6ICcjZWY0NDQ0Jyk7XG4gICAgICAgIG5ldyBtYXBib3hnbC5NYXJrZXIoZWwpXG4gICAgICAgICAgLnNldExuZ0xhdChbem9uZS5sb25naXR1ZGUsIHpvbmUubGF0aXR1ZGVdKVxuICAgICAgICAgIC5zZXRQb3B1cChcbiAgICAgICAgICAgIG5ldyBtYXBib3hnbC5Qb3B1cCh7IG9mZnNldDogMjUgfSkuc2V0SFRNTChgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLTJcIj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1zbVwiPiR7em9uZS5kaXN0cmljdH0gUGFya2luZzwvaDM+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj4ke3pvbmUuYWRkcmVzc308L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgJHthdmFpbGFibGUgPiAwID8gJ3RleHQtYmx1ZS02MDAnIDogJ3RleHQtcmVkLTYwMCd9XCI+XG4gICAgICAgICAgICAgICAgICAke2F2YWlsYWJsZX0vJHt6b25lLmNhcGFjaXR5fSBzcGFjZXMgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LWFjY2VudC13YXJtIGZvbnQtYm9sZFwiPkFFRCAke3pvbmUuaG91cmx5UmF0ZX0vaG91cjwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPiR7em9uZS50eXBlfSBwYXJraW5nPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGApXG4gICAgICAgICAgKVxuICAgICAgICAgIC5hZGRUbyhtYXAuY3VycmVudCEpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRyYW5zaXQgbWFya2Vyc1xuICAgIGlmIChsYXllcnMudHJhbnNpdCAmJiB0cmFuc2l0U3RvcHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS5sb2coXCJBZGRpbmcgdHJhbnNpdCBtYXJrZXJzXCIpO1xuICAgICAgdHJhbnNpdFN0b3BzLmZvckVhY2goKHN0b3ApID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSBjcmVhdGVNYXJrZXJFbGVtZW50KCd0cmFuc2l0JywgJyM4YjVjZjYnKTtcbiAgICAgICAgbmV3IG1hcGJveGdsLk1hcmtlcihlbClcbiAgICAgICAgICAuc2V0TG5nTGF0KFtzdG9wLmxvbmdpdHVkZSwgc3RvcC5sYXRpdHVkZV0pXG4gICAgICAgICAgLnNldFBvcHVwKFxuICAgICAgICAgICAgbmV3IG1hcGJveGdsLlBvcHVwKHsgb2Zmc2V0OiAyNSB9KS5zZXRIVE1MKGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtMlwiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LXNtXCI+JHtzdG9wLmRpc3RyaWN0fSBUcmFuc2l0IFN0b3A8L2gzPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+JHtzdG9wLmFkZHJlc3N9PC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtcHVycGxlLTYwMFwiPlxuICAgICAgICAgICAgICAgICAgJHtzdG9wLnJvdXRlcy5sZW5ndGh9IHJvdXRlcyBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgJHtzdG9wLm5leHRBcnJpdmFscy5zbGljZSgwLCAyKS5tYXAoYXJyaXZhbCA9PiBgXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICBSb3V0ZSAke2Fycml2YWwucm91dGVJZH06ICR7YXJyaXZhbC5hcnJpdmFsVGltZX0gbWluXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgYCkuam9pbignJyl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYClcbiAgICAgICAgICApXG4gICAgICAgICAgLmFkZFRvKG1hcC5jdXJyZW50ISk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhdCBvdmVybGF5XG4gICAgaWYgKGxheWVycy5oZWF0KSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkFkZGluZyBoZWF0IG92ZXJsYXlcIik7XG4gICAgICBhZGRIZWF0T3ZlcmxheSgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZW9jb2RlID0gYXN5bmMgKHE6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTUFQQk9YX1RPS0VOIHx8IFwiXCI7XG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLm1hcGJveC5jb20vZ2VvY29kaW5nL3Y1L21hcGJveC5wbGFjZXMvJHtlbmNvZGVVUklDb21wb25lbnQocSl9Lmpzb24/YWNjZXNzX3Rva2VuPSR7dG9rZW59JmxpbWl0PTFgO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgaWYgKGRhdGEuZmVhdHVyZXMgJiYgZGF0YS5mZWF0dXJlc1swXSkge1xuICAgICAgY29uc3QgZiA9IGRhdGEuZmVhdHVyZXNbMF07XG4gICAgICByZXR1cm4geyBsb25naXR1ZGU6IGYuY2VudGVyWzBdLCBsYXRpdHVkZTogZi5jZW50ZXJbMV0sIG5hbWU6IGYucGxhY2VfbmFtZSB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZWFyY2ggPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFxdWVyeS50cmltKCkgfHwgIW1hcC5jdXJyZW50KSByZXR1cm47XG4gICAgY29uc3QgbG9jID0gYXdhaXQgZ2VvY29kZShxdWVyeS50cmltKCkpO1xuICAgIGlmIChsb2MpIHtcbiAgICAgIG1hcC5jdXJyZW50LmZseVRvKHsgY2VudGVyOiBbbG9jLmxvbmdpdHVkZSwgbG9jLmxhdGl0dWRlXSwgem9vbTogMTMgfSk7XG4gICAgICBuZXcgbWFwYm94Z2wuTWFya2VyKCkuc2V0TG5nTGF0KFtsb2MubG9uZ2l0dWRlLCBsb2MubGF0aXR1ZGVdKS5hZGRUbyhtYXAuY3VycmVudCk7XG4gICAgICBzZXRVc2VyTG9jYXRpb24oeyBsYXRpdHVkZTogbG9jLmxhdGl0dWRlLCBsb25naXR1ZGU6IGxvYy5sb25naXR1ZGUgfSk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hDaGFyZ2Vyc0Zyb21PQ00obG9jLmxhdGl0dWRlLCBsb2MubG9uZ2l0dWRlLCAxMCk7XG4gICAgICBzZXRDaGFyZ2VycyhkYXRhIGFzIEVWQ2hhcmdlcltdKTtcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0geyBpZDogXCJzZWFyY2hcIiwgbGF0aXR1ZGU6IGxvYy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBsb2MubG9uZ2l0dWRlLCBhZGRyZXNzOiBsb2MubmFtZSwgZGlzdHJpY3Q6IFwiRHViYWlcIiB9O1xuICAgICAgY29uc3QgdHJhbnNpdERhdGEgPSBnZXRUcmFuc2l0U3RvcHNOZWFyTG9jYXRpb24obG9jYXRpb24sIDUpO1xuICAgICAgc2V0VHJhbnNpdFN0b3BzKHRyYW5zaXREYXRhKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVXNlQ3VycmVudExvY2F0aW9uID0gKCkgPT4ge1xuICAgIGlmICghbWFwLmN1cnJlbnQpIHJldHVybjtcbiAgICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7XG4gICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGFzeW5jIChwb3NpdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBsb2MgPSB7IGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxvbmdpdHVkZTogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSB9O1xuICAgICAgICBzZXRVc2VyTG9jYXRpb24obG9jKTtcbiAgICAgICAgbWFwLmN1cnJlbnQhLmZseVRvKHsgY2VudGVyOiBbbG9jLmxvbmdpdHVkZSwgbG9jLmxhdGl0dWRlXSwgem9vbTogMTMgfSk7XG4gICAgICAgIG5ldyBtYXBib3hnbC5NYXJrZXIoKS5zZXRMbmdMYXQoW2xvYy5sb25naXR1ZGUsIGxvYy5sYXRpdHVkZV0pLmFkZFRvKG1hcC5jdXJyZW50ISk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaENoYXJnZXJzRnJvbU9DTShsb2MubGF0aXR1ZGUsIGxvYy5sb25naXR1ZGUsIDEwKTtcbiAgICAgICAgc2V0Q2hhcmdlcnMoZGF0YSBhcyBFVkNoYXJnZXJbXSk7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0geyBpZDogXCJ1c2VyXCIsIGxhdGl0dWRlOiBsb2MubGF0aXR1ZGUsIGxvbmdpdHVkZTogbG9jLmxvbmdpdHVkZSwgYWRkcmVzczogXCJZb3VyIGxvY2F0aW9uXCIsIGRpc3RyaWN0OiBcIkR1YmFpXCIgfTtcbiAgICAgICAgY29uc3QgdHJhbnNpdERhdGEgPSBnZXRUcmFuc2l0U3RvcHNOZWFyTG9jYXRpb24obG9jYXRpb24sIDUpO1xuICAgICAgICBzZXRUcmFuc2l0U3RvcHModHJhbnNpdERhdGEpO1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBtYXAuY3VycmVudCEuZmx5VG8oeyBjZW50ZXI6IFs1NS4yNzA4LCAyNS4yMDQ4XSwgem9vbTogMTIgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlTWFya2VyRWxlbWVudCA9ICh0eXBlOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsLmNsYXNzTmFtZSA9ICdtYXJrZXInO1xuICAgIGVsLnN0eWxlLndpZHRoID0gJzIwcHgnO1xuICAgIGVsLnN0eWxlLmhlaWdodCA9ICcyMHB4JztcbiAgICBlbC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNTAlJztcbiAgICBlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICBlbC5zdHlsZS5ib3JkZXIgPSAnMnB4IHNvbGlkIHdoaXRlJztcbiAgICBlbC5zdHlsZS5ib3hTaGFkb3cgPSAnMCAycHggNHB4IHJnYmEoMCwwLDAsMC4zKSc7XG4gICAgXG4gICAgLy8gQWRkIGljb24gYmFzZWQgb24gdHlwZVxuICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpY29uLnN0eWxlLndpZHRoID0gJzEycHgnO1xuICAgIGljb24uc3R5bGUuaGVpZ2h0ID0gJzEycHgnO1xuICAgIGljb24uc3R5bGUubWFyZ2luID0gJzRweCBhdXRvJztcbiAgICBpY29uLnN0eWxlLmJhY2tncm91bmRTaXplID0gJ2NvbnRhaW4nO1xuICAgIFxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnY2hhcmdlcic6XG4gICAgICAgIGljb24uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSd3aGl0ZScgdmlld0JveD0nMCAwIDI0IDI0JyUzRSUzQ3BhdGggZD0nTTcgMnYxMWgzdjlsNy0xMmgtNGw0LTh6Jy8lM0UlM0Mvc3ZnJTNFXCIpYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwYXJraW5nJzpcbiAgICAgICAgaWNvbi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9J3doaXRlJyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFJTNDcGF0aCBkPSdNMTMgM2gtMnY1SDh2MmgzdjJoLTJ2MmgydjJoLTN2MmgzdjVoMnYtNWgydi0yaC0ydi0yaDJ2LTJoLTJWOGgyVjZoLTJWM20tMyA3aDJ2MmgtMnYtMm0wIDRoMnYyaC0ydi0yeicvJTNFJTNDL3N2ZyUzRVwiKWA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHJhbnNpdCc6XG4gICAgICAgIGljb24uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSd3aGl0ZScgdmlld0JveD0nMCAwIDI0IDI0JyUzRSUzQ3BhdGggZD0nTTE4IDExaC0yVjdoMm0tNCAwaC0ydjRoMm0tNCAwSDhWN2gyTTYgN0g0djRoMm0xMi41IDZjLjggMCAxLjUtLjcgMS41LTEuNVMxOS4zIDEwIDE4LjUgMTAgMTcgMTAuNyAxNyAxMS41IDE3LjcgMTMgMTguNSAxM002LjUgMTNjLjggMCAxLjUtLjcgMS41LTEuNVM3LjggMTAgNyAxMCA1LjUgMTAuNyA1LjUgMTEuNSA2LjIgMTMgNi41IDEzTTIxIDVIM2MtMS4xIDAtMiAuOS0yIDJ2MTBjMCAxLjEuOSAyIDIgMmgxOGMxLjEgMCAyLS45IDItMlY3YzAtMS4xLS45LTItMi0yeicvJTNFJTNDL3N2ZyUzRVwiKWA7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBcbiAgICBlbC5hcHBlbmRDaGlsZChpY29uKTtcbiAgICByZXR1cm4gZWw7XG4gIH07XG5cbiAgY29uc3QgYWRkSGVhdE92ZXJsYXkgPSAoKSA9PiB7XG4gICAgaWYgKCFtYXAuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgLy8gQ3JlYXRlIGhlYXQgbWFwIHNvdXJjZVxuICAgIGNvbnN0IGhlYXREYXRhOiBHZW9KU09OLkZlYXR1cmVDb2xsZWN0aW9uPEdlb0pTT04uUG9pbnQ+ID0ge1xuICAgICAgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJyxcbiAgICAgIGZlYXR1cmVzOiBjaGFyZ2Vycy5tYXAoY2hhcmdlciA9PiAoe1xuICAgICAgICB0eXBlOiAnRmVhdHVyZScsXG4gICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgdHlwZTogJ1BvaW50JyxcbiAgICAgICAgICBjb29yZGluYXRlczogW2NoYXJnZXIubG9uZ2l0dWRlLCBjaGFyZ2VyLmxhdGl0dWRlXVxuICAgICAgICB9LFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgaGVhdDogTWF0aC5yYW5kb20oKSAqIDEwMCAvLyBTaW11bGF0ZWQgaGVhdCBkYXRhXG4gICAgICAgIH1cbiAgICAgIH0pKVxuICAgIH07XG5cbiAgICBpZiAobWFwLmN1cnJlbnQuZ2V0U291cmNlKCdoZWF0JykpIHtcbiAgICAgIG1hcC5jdXJyZW50LnJlbW92ZVNvdXJjZSgnaGVhdCcpO1xuICAgIH1cblxuICAgIG1hcC5jdXJyZW50LmFkZFNvdXJjZSgnaGVhdCcsIHtcbiAgICAgIHR5cGU6ICdnZW9qc29uJyxcbiAgICAgIGRhdGE6IGhlYXREYXRhXG4gICAgfSk7XG5cbiAgICBtYXAuY3VycmVudC5hZGRMYXllcih7XG4gICAgICBpZDogJ2hlYXQtbGF5ZXInLFxuICAgICAgdHlwZTogJ2hlYXRtYXAnLFxuICAgICAgc291cmNlOiAnaGVhdCcsXG4gICAgICBwYWludDoge1xuICAgICAgICAnaGVhdG1hcC13ZWlnaHQnOiBbJ2dldCcsICdoZWF0J10sXG4gICAgICAgICdoZWF0bWFwLWludGVuc2l0eSc6IDAuNSxcbiAgICAgICAgJ2hlYXRtYXAtY29sb3InOiBbXG4gICAgICAgICAgJ2ludGVycG9sYXRlJyxcbiAgICAgICAgICBbJ2xpbmVhciddLFxuICAgICAgICAgIFsnaGVhdG1hcC1kZW5zaXR5J10sXG4gICAgICAgICAgMCwgJ3JnYmEoMCwgMCwgMjU1LCAwKScsXG4gICAgICAgICAgMC4yLCAncmdiKDAsIDI1NSwgMCknLFxuICAgICAgICAgIDAuNCwgJ3JnYigyNTUsIDI1NSwgMCknLFxuICAgICAgICAgIDAuNiwgJ3JnYigyNTUsIDE2NSwgMCknLFxuICAgICAgICAgIDAuOCwgJ3JnYigyNTUsIDAsIDApJyxcbiAgICAgICAgICAxLCAncmdiKDEzOSwgMCwgMCknXG4gICAgICAgIF0sXG4gICAgICAgICdoZWF0bWFwLXJhZGl1cyc6IDMwLFxuICAgICAgICAnaGVhdG1hcC1vcGFjaXR5JzogMC43XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlTGF5ZXJzID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgbGF5ZXJzOlwiLCBsYXllcnMpO1xuICAgIGFkZE1hcmtlcnMoKTtcbiAgICBcbiAgICBpZiAobGF5ZXJzLmhlYXQgJiYgbWFwLmN1cnJlbnQpIHtcbiAgICAgIGFkZEhlYXRPdmVybGF5KCk7XG4gICAgfSBlbHNlIGlmIChtYXAuY3VycmVudCAmJiBtYXAuY3VycmVudC5nZXRMYXllcignaGVhdC1sYXllcicpKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlJlbW92aW5nIGhlYXQgbGF5ZXJcIik7XG4gICAgICBtYXAuY3VycmVudC5yZW1vdmVMYXllcignaGVhdC1sYXllcicpO1xuICAgICAgbWFwLmN1cnJlbnQucmVtb3ZlU291cmNlKCdoZWF0Jyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUxheWVyVG9nZ2xlID0gKGxheWVyOiBrZXlvZiB0eXBlb2YgbGF5ZXJzKSA9PiB7XG4gICAgc2V0TGF5ZXJzKHByZXYgPT4gKHsgLi4ucHJldiwgW2xheWVyXTogIXByZXZbbGF5ZXJdIH0pKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICA8ZGl2PlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtdGV4dC1wcmltYXJ5IGRhcms6dGV4dC13aGl0ZVwiPk11bHRpLUxheWVyIE1hcDwvaDE+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtdGV4dC1zZWNvbmRhcnkgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgSW50ZXJhY3RpdmUgRHViYWkgbW9iaWxpdHkgbWFwIHdpdGggcmVhbC10aW1lIGRhdGFcbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1iYXNlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC05NiByZWxhdGl2ZSByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgIDxkaXYgcmVmPXttYXBDb250YWluZXJ9IGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGxcIiAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBNYXAgQ29udHJvbHMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCByaWdodC00IGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC0yIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKGxheWVycykubWFwKChba2V5LCB2YWx1ZV0pID0+IChcbiAgICAgICAgICAgICAgPGxhYmVsIGtleT17a2V5fSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3ZhbHVlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IGhhbmRsZUxheWVyVG9nZ2xlKGtleSBhcyBrZXlvZiB0eXBlb2YgbGF5ZXJzKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTQgcm91bmRlZFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIGNhcGl0YWxpemVcIj5cbiAgICAgICAgICAgICAgICAgIHtrZXkucmVwbGFjZSgvKFtBLVpdKS9nLCAnICQxJykudHJpbSgpfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIExlZ2VuZCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS00IGxlZnQtNCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQtbGcgc2hhZG93LWxnIHAtM1wiPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCBtYi0yXCI+TGVnZW5kPC9oND5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyByb3VuZGVkLWZ1bGwgYmctZ3JlZW4tNTAwXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4+QXZhaWxhYmxlIEVWIENoYXJnZXJzPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyByb3VuZGVkLWZ1bGwgYmctcmVkLTUwMFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuPkZ1bGwvVW5hdmFpbGFibGU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zIHJvdW5kZWQtZnVsbCBiZy1ibHVlLTUwMFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuPlBhcmtpbmcgQXZhaWxhYmxlPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyByb3VuZGVkLWZ1bGwgYmctcHVycGxlLTUwMFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuPlRyYW5zaXQgU3RvcHM8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtsYXllcnMuZXZDaGFyZ2VycyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1iYXNlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItM1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1zbVwiPkVWIENoYXJnZXJzIE5lYXJieTwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgeyhbXCJhbGxcIixcImZhc3RcIixcInNsb3dcIixcInVsdHJhLWZhc3RcIl0gYXMgY29uc3QpLm1hcCgodCkgPT4gKFxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGtleT17dH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEV2RmlsdGVyVHlwZSh0KX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgcHktMSByb3VuZGVkIHRleHQteHMgJHtldkZpbHRlclR5cGU9PT10P1wiYmctYWNjZW50LXdhcm0gdGV4dC13aGl0ZVwiOlwiYmctc3VyZmFjZS1kYXJrIGRhcms6YmctZ3JheS03MDBcIn1gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHt0PT09J2FsbCc/ICdBbGwnIDogdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1heC1oLTY0IG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgeyhldkZpbHRlclR5cGU9PT1cImFsbFwiPyBjaGFyZ2VycyA6IGNoYXJnZXJzLmZpbHRlcihjPT5jLnR5cGU9PT1ldkZpbHRlclR5cGUpKS5zbGljZSgwLDIwKS5tYXAoKGMpPT4oXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtjLmlkfSBjbGFzc05hbWU9XCJwLTMgYm9yZGVyIGJvcmRlci1ib3JkZXItY29sb3IgZGFyazpib3JkZXItZ3JheS03MDAgcm91bmRlZCBob3ZlcjpiZy1zdXJmYWNlLWRhcmsgZGFyazpob3ZlcjpiZy1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPntjLm9wZXJhdG9yfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IGRhcms6dGV4dC1ncmF5LTQwMFwiPntjLmFkZHJlc3N9IOKAoiB7Yy50eXBlfSDigKIge2MucG93ZXJPdXRwdXR9a1c8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHB4LTIgcHktMSByb3VuZGVkIHRleHQteHMgZm9udC1ib2xkICR7Yy5hdmFpbGFibGVTb2NrZXRzPjA/XCJiZy1ncmVlbi0xMDAgZGFyazpiZy1ncmVlbi05MDAvMzAgdGV4dC1ncmVlbi03MDAgZGFyazp0ZXh0LWdyZWVuLTQwMFwiOlwiYmctcmVkLTEwMCBkYXJrOmJnLXJlZC05MDAvMzAgdGV4dC1yZWQtNzAwIGRhcms6dGV4dC1yZWQtNDAwXCJ9YH0+e2MuYXZhaWxhYmxlU29ja2V0c30ve2MudG90YWxTb2NrZXRzfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHRleHQteHMgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+UmVsaWFiaWxpdHkge2MucmVsaWFiaWxpdHl9JTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1hY2NlbnQtd2FybVwiPkFFRCB7Yy5wcmljZS50b0ZpeGVkKDIpfS9rV2g8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy00IGdhcC0zXCI+XG4gICAgICAgIHtbXCJFViBDaGFyZ2Vyc1wiLCBcIlBhcmtpbmdcIiwgXCJUcmFuc2l0XCIsIFwiSGVhdCBJbmRleFwiXS5tYXAoKGxheWVyLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGtleSA9IE9iamVjdC5rZXlzKGxheWVycylbaW5kZXhdIGFzIGtleW9mIHR5cGVvZiBsYXllcnM7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxsYWJlbCBrZXk9e2xheWVyfSBjbGFzc05hbWU9XCJjYXJkLWJhc2UgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6Ymctc3VyZmFjZS1kYXJrXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIiBcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtsYXllcnNba2V5XX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gaGFuZGxlTGF5ZXJUb2dnbGUoa2V5KX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTQgaC00IHJvdW5kZWRcIiBcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1zbVwiPntsYXllcn08L3NwYW4+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4gICAgICB7LyogTmVhcmJ5IExpc3RzICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1iYXNlXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPlRyYW5zaXQgU3RvcHMgTmVhcmJ5PC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYXgtaC02NCBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgIHt0cmFuc2l0U3RvcHMuc2xpY2UoMCwyMCkubWFwKChzdG9wKT0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e3N0b3AuaWR9IGNsYXNzTmFtZT1cInAtMyBib3JkZXIgYm9yZGVyLWJvcmRlci1jb2xvciBkYXJrOmJvcmRlci1ncmF5LTcwMCByb3VuZGVkXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkXCI+e3N0b3AuZGlzdHJpY3R9IFRyYW5zaXQgU3RvcDwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtdGV4dC1zZWNvbmRhcnkgZGFyazp0ZXh0LWdyYXktNDAwXCI+e3N0b3AuYWRkcmVzc308L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14c1wiPlJvdXRlczoge3N0b3Aucm91dGVzLmxlbmd0aH08L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYmFzZVwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTJcIj5QYXJraW5nIE5lYXJieTwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgbWF4LWgtNjQgb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICB7cGFya2luZy5zbGljZSgwLDIwKS5tYXAoKHpvbmUpPT4ge1xuICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGUgPSB6b25lLmNhcGFjaXR5IC0gem9uZS5vY2N1cGllZDtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17em9uZS5pZH0gY2xhc3NOYW1lPVwicC0zIGJvcmRlciBib3JkZXItYm9yZGVyLWNvbG9yIGRhcms6Ym9yZGVyLWdyYXktNzAwIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZFwiPnt6b25lLmRpc3RyaWN0fSBQYXJraW5nPC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXRleHQtc2Vjb25kYXJ5IGRhcms6dGV4dC1ncmF5LTQwMFwiPnt6b25lLmFkZHJlc3N9PC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14c1wiPnthdmFpbGFibGV9L3t6b25lLmNhcGFjaXR5fSBzcGFjZXMg4oCiIEFFRCB7em9uZS5ob3VybHlSYXRlfS9ob3VyPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwibWFwYm94Z2wiLCJnZXRFVkNoYXJnZXJzIiwiZ2V0UGFya2luZ1pvbmVzIiwiZ2V0VHJhbnNpdFN0b3BzTmVhckxvY2F0aW9uIiwiZmV0Y2hDaGFyZ2Vyc0Zyb21PQ00iLCJhY2Nlc3NUb2tlbiIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19NQVBCT1hfVE9LRU4iLCJNYXBQYWdlIiwibWFwQ29udGFpbmVyIiwibWFwIiwibGF5ZXJzIiwic2V0TGF5ZXJzIiwiZXZDaGFyZ2VycyIsInBhcmtpbmciLCJ0cmFuc2l0IiwiaGVhdCIsImV2RmlsdGVyVHlwZSIsInNldEV2RmlsdGVyVHlwZSIsImNoYXJnZXJzIiwic2V0Q2hhcmdlcnMiLCJzZXRQYXJraW5nIiwidHJhbnNpdFN0b3BzIiwic2V0VHJhbnNpdFN0b3BzIiwicXVlcnkiLCJzZXRRdWVyeSIsInVzZXJMb2NhdGlvbiIsInNldFVzZXJMb2NhdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJjaGFyZ2Vyc0RhdGEiLCJwYXJraW5nRGF0YSIsImxlbmd0aCIsImR1YmFpQ2VudGVyIiwiaWQiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImFkZHJlc3MiLCJkaXN0cmljdCIsInRyYW5zaXREYXRhIiwiY3VycmVudCIsIk1hcCIsImNvbnRhaW5lciIsInN0eWxlIiwiY2VudGVyIiwiem9vbSIsImFkZENvbnRyb2wiLCJOYXZpZ2F0aW9uQ29udHJvbCIsIkZ1bGxzY3JlZW5Db250cm9sIiwib24iLCJhZGRNYXJrZXJzIiwiZSIsImVycm9yIiwicmVtb3ZlIiwidXBkYXRlTGF5ZXJzIiwibWFya2VycyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJtYXJrZXIiLCJjaGFyZ2VyIiwiZWwiLCJjcmVhdGVNYXJrZXJFbGVtZW50IiwiYXZhaWxhYmxlU29ja2V0cyIsIk1hcmtlciIsInNldExuZ0xhdCIsInNldFBvcHVwIiwiUG9wdXAiLCJvZmZzZXQiLCJzZXRIVE1MIiwib3BlcmF0b3IiLCJ0eXBlIiwicG93ZXJPdXRwdXQiLCJ0b3RhbFNvY2tldHMiLCJwcmljZSIsInRvRml4ZWQiLCJhZGRUbyIsInpvbmUiLCJhdmFpbGFibGUiLCJjYXBhY2l0eSIsIm9jY3VwaWVkIiwiaG91cmx5UmF0ZSIsInN0b3AiLCJyb3V0ZXMiLCJuZXh0QXJyaXZhbHMiLCJzbGljZSIsImFycml2YWwiLCJyb3V0ZUlkIiwiYXJyaXZhbFRpbWUiLCJqb2luIiwiYWRkSGVhdE92ZXJsYXkiLCJnZW9jb2RlIiwicSIsInRva2VuIiwidXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVzIiwiZmV0Y2giLCJkYXRhIiwianNvbiIsImZlYXR1cmVzIiwiZiIsIm5hbWUiLCJwbGFjZV9uYW1lIiwiaGFuZGxlU2VhcmNoIiwidHJpbSIsImxvYyIsImZseVRvIiwibG9jYXRpb24iLCJoYW5kbGVVc2VDdXJyZW50TG9jYXRpb24iLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwiY29vcmRzIiwiY29sb3IiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwid2lkdGgiLCJoZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3hTaGFkb3ciLCJpY29uIiwibWFyZ2luIiwiYmFja2dyb3VuZFNpemUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJhcHBlbmRDaGlsZCIsImhlYXREYXRhIiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsInByb3BlcnRpZXMiLCJNYXRoIiwicmFuZG9tIiwiZ2V0U291cmNlIiwicmVtb3ZlU291cmNlIiwiYWRkU291cmNlIiwiYWRkTGF5ZXIiLCJzb3VyY2UiLCJwYWludCIsImdldExheWVyIiwicmVtb3ZlTGF5ZXIiLCJoYW5kbGVMYXllclRvZ2dsZSIsImxheWVyIiwicHJldiIsImRpdiIsImgxIiwicCIsInJlZiIsIk9iamVjdCIsImVudHJpZXMiLCJrZXkiLCJ2YWx1ZSIsImxhYmVsIiwiaW5wdXQiLCJjaGVja2VkIiwib25DaGFuZ2UiLCJzcGFuIiwicmVwbGFjZSIsImg0IiwiaDMiLCJ0IiwiYnV0dG9uIiwib25DbGljayIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiZmlsdGVyIiwiYyIsInJlbGlhYmlsaXR5IiwiaW5kZXgiLCJrZXlzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/app/map/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/openchargemap.ts":
/*!******************************!*\
  !*** ./lib/openchargemap.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchChargersFromOCM: () => (/* binding */ fetchChargersFromOCM),\n/* harmony export */   getChargerDetails: () => (/* binding */ getChargerDetails)\n/* harmony export */ });\n/**\n * Open Charge Map API Integration\n * Provides real EV charger data for Dubai and UAE\n */ const API_KEY = '92fe322a-a75f-4a2c-ad75-9d7a448ab443';\nconst BASE_URL = 'https://api.openchargemap.io/v3';\n/**\n * Convert OCM charger data to our internal format\n */ function convertOCMToInternal(charger) {\n    var _charger_AddressInfo, _charger_AddressInfo1, _charger_AddressInfo2, _charger_AddressInfo3, _charger_AddressInfo4, _charger_AddressInfo5, _charger_AddressInfo6, _charger_Connections, _charger_OperatorInfo;\n    console.log('Converting charger:', charger.ID, (_charger_AddressInfo = charger.AddressInfo) === null || _charger_AddressInfo === void 0 ? void 0 : _charger_AddressInfo.Title);\n    const converted = {\n        id: \"ocm-\".concat(charger.ID),\n        latitude: (_charger_AddressInfo1 = charger.AddressInfo) === null || _charger_AddressInfo1 === void 0 ? void 0 : _charger_AddressInfo1.Latitude,\n        longitude: (_charger_AddressInfo2 = charger.AddressInfo) === null || _charger_AddressInfo2 === void 0 ? void 0 : _charger_AddressInfo2.Longitude,\n        address: ((_charger_AddressInfo3 = charger.AddressInfo) === null || _charger_AddressInfo3 === void 0 ? void 0 : _charger_AddressInfo3.AddressLine1) || ((_charger_AddressInfo4 = charger.AddressInfo) === null || _charger_AddressInfo4 === void 0 ? void 0 : _charger_AddressInfo4.Title),\n        district: ((_charger_AddressInfo5 = charger.AddressInfo) === null || _charger_AddressInfo5 === void 0 ? void 0 : _charger_AddressInfo5.Town) || ((_charger_AddressInfo6 = charger.AddressInfo) === null || _charger_AddressInfo6 === void 0 ? void 0 : _charger_AddressInfo6.StateOrProvince) || 'Dubai',\n        type: getChargerType(charger.Connections),\n        totalSockets: charger.NumberOfPoints || ((_charger_Connections = charger.Connections) === null || _charger_Connections === void 0 ? void 0 : _charger_Connections.length) || 1,\n        availableSockets: getAvailableSockets(charger),\n        powerOutput: getMaxPowerKW(charger.Connections),\n        price: getPricingEstimate(charger),\n        operator: ((_charger_OperatorInfo = charger.OperatorInfo) === null || _charger_OperatorInfo === void 0 ? void 0 : _charger_OperatorInfo.Title) || 'Unknown Operator',\n        amenities: getAmenities(charger),\n        reliability: getReliabilityScore(charger),\n        predictedFreeTime: null\n    };\n    console.log('Converted charger:', converted);\n    return converted;\n}\n/**\n * Determine charger type based on connections\n */ function getChargerType(connections) {\n    if (!connections || connections.length === 0) return 'slow';\n    const maxPower = Math.max(...connections.map((c)=>c.PowerKW || 0));\n    if (maxPower >= 100) return 'ultra-fast';\n    if (maxPower >= 22) return 'fast';\n    return 'slow';\n}\n/**\n * Get available sockets (OCM doesn't provide real-time availability, so we estimate)\n */ function getAvailableSockets(charger) {\n    var _charger_StatusType, _charger_Connections;\n    // OCM doesn't provide real-time availability, so we estimate based on status\n    const isOperational = ((_charger_StatusType = charger.StatusType) === null || _charger_StatusType === void 0 ? void 0 : _charger_StatusType.IsOperational) !== false;\n    const totalPoints = charger.NumberOfPoints || ((_charger_Connections = charger.Connections) === null || _charger_Connections === void 0 ? void 0 : _charger_Connections.length) || 1;\n    // Estimate 60-80% availability for operational chargers\n    return isOperational ? Math.ceil(totalPoints * 0.7) : 0;\n}\n/**\n * Get maximum power output in kW\n */ function getMaxPowerKW(connections) {\n    if (!connections || connections.length === 0) return 7;\n    return Math.max(...connections.map((c)=>c.PowerKW || 7));\n}\n/**\n * Estimate pricing based on charger type and operator\n */ function getPricingEstimate(charger) {\n    var _charger_OperatorInfo;\n    const type = getChargerType(charger.Connections);\n    const basePrice = type === 'ultra-fast' ? 2.5 : type === 'fast' ? 1.2 : 0.8;\n    // Adjust based on operator (some premium operators charge more)\n    const operator = ((_charger_OperatorInfo = charger.OperatorInfo) === null || _charger_OperatorInfo === void 0 ? void 0 : _charger_OperatorInfo.Title.toLowerCase()) || '';\n    const premiumOperators = [\n        'tesla',\n        'porsche',\n        'ionity',\n        'fastned'\n    ];\n    const multiplier = premiumOperators.some((premium)=>operator.includes(premium)) ? 1.3 : 1.0;\n    return +(basePrice * multiplier).toFixed(2);\n}\n/**\n * Extract amenities from charger data\n */ function getAmenities(charger) {\n    var _charger_UsageType, _charger_GeneralComments, _charger_GeneralComments1, _charger_GeneralComments2, _charger_GeneralComments3;\n    const amenities = [];\n    if ((_charger_UsageType = charger.UsageType) === null || _charger_UsageType === void 0 ? void 0 : _charger_UsageType.IsPayAtLocation) amenities.push('Pay at Location');\n    if ((_charger_GeneralComments = charger.GeneralComments) === null || _charger_GeneralComments === void 0 ? void 0 : _charger_GeneralComments.toLowerCase().includes('wifi')) amenities.push('WiFi');\n    if ((_charger_GeneralComments1 = charger.GeneralComments) === null || _charger_GeneralComments1 === void 0 ? void 0 : _charger_GeneralComments1.toLowerCase().includes('coffee')) amenities.push('Coffee Shop');\n    if ((_charger_GeneralComments2 = charger.GeneralComments) === null || _charger_GeneralComments2 === void 0 ? void 0 : _charger_GeneralComments2.toLowerCase().includes('restroom')) amenities.push('Restroom');\n    if ((_charger_GeneralComments3 = charger.GeneralComments) === null || _charger_GeneralComments3 === void 0 ? void 0 : _charger_GeneralComments3.toLowerCase().includes('shade')) amenities.push('Shaded Parking');\n    return amenities;\n}\n/**\n * Calculate reliability score based on verification status\n */ function getReliabilityScore(charger) {\n    var _charger_StatusType;\n    let score = 70; // Base score\n    // Boost score if recently verified\n    const lastVerified = new Date(charger.DateLastVerified);\n    const daysSinceVerified = (Date.now() - lastVerified.getTime()) / (1000 * 60 * 60 * 24);\n    if (daysSinceVerified < 30) score += 15;\n    else if (daysSinceVerified < 90) score += 10;\n    // Boost score if operational\n    if ((_charger_StatusType = charger.StatusType) === null || _charger_StatusType === void 0 ? void 0 : _charger_StatusType.IsOperational) score += 10;\n    // Boost score if recently updated\n    const lastUpdated = new Date(charger.DateLastStatusUpdate);\n    const daysSinceUpdate = (Date.now() - lastUpdated.getTime()) / (1000 * 60 * 60 * 24);\n    if (daysSinceUpdate < 7) score += 5;\n    return Math.min(score, 95);\n}\n/**\n * Fetch EV chargers from Open Charge Map API\n */ async function fetchChargersFromOCM(latitude, longitude) {\n    let radiusKm = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 10;\n    try {\n        const params = new URLSearchParams({\n            key: API_KEY,\n            latitude: latitude.toString(),\n            longitude: longitude.toString(),\n            distance: radiusKm.toString(),\n            distanceunit: 'KM',\n            countrycode: 'AE',\n            maxresults: '50',\n            verbose: 'false',\n            includecomments: 'true'\n        });\n        const response = await fetch(\"\".concat(BASE_URL, \"/poi?\").concat(params));\n        if (!response.ok) {\n            throw new Error(\"OCM API error: \".concat(response.status));\n        }\n        const data = await response.json();\n        if (!Array.isArray(data)) {\n            console.error('Unexpected OCM API response format:', data);\n            return [];\n        }\n        console.log(\"Fetched \".concat(data.length, \" chargers from OCM\"));\n        // Filter and convert chargers\n        console.log('Filtering chargers...');\n        const validChargers = data.filter((charger, index)=>{\n            var _charger_AddressInfo, _charger_AddressInfo1;\n            const hasAddress = ((_charger_AddressInfo = charger.AddressInfo) === null || _charger_AddressInfo === void 0 ? void 0 : _charger_AddressInfo.Latitude) && ((_charger_AddressInfo1 = charger.AddressInfo) === null || _charger_AddressInfo1 === void 0 ? void 0 : _charger_AddressInfo1.Longitude);\n            console.log(\"Charger \".concat(index, \": hasAddress=\").concat(hasAddress, \", ID=\").concat(charger.ID));\n            return hasAddress;\n        });\n        console.log(\"Found \".concat(validChargers.length, \" valid chargers\"));\n        const convertedChargers = validChargers.map(convertOCMToInternal);\n        console.log(\"Converted \".concat(convertedChargers.length, \" chargers\"));\n        return convertedChargers;\n    } catch (error) {\n        console.error('Error fetching chargers from OCM:', error);\n        return [];\n    }\n}\n/**\n * Get charger details by ID\n */ async function getChargerDetails(chargerId) {\n    try {\n        // Extract OCM ID from our internal ID format\n        const ocmId = chargerId.replace('ocm-', '');\n        const params = new URLSearchParams({\n            key: API_KEY,\n            chargepointid: ocmId,\n            verbose: 'true'\n        });\n        const response = await fetch(\"\".concat(BASE_URL, \"/poi?\").concat(params));\n        if (!response.ok) {\n            throw new Error(\"OCM API error: \".concat(response.status));\n        }\n        const data = await response.json();\n        if (!Array.isArray(data) || data.length === 0) {\n            return null;\n        }\n        return convertOCMToInternal(data[0]);\n    } catch (error) {\n        console.error('Error fetching charger details from OCM:', error);\n        return null;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU87UUFDZDNGLFFBQVEyRixLQUFLLENBQUMscUNBQXFDQTtRQUNuRCxPQUFPLEVBQUU7SUFDWDtBQUNGO0FBRUE7O0NBRUMsR0FDTSxlQUFlTSxrQkFBa0JDLFNBQWlCO0lBQ3ZELElBQUk7UUFDRiw2Q0FBNkM7UUFDN0MsTUFBTUMsUUFBUUQsVUFBVUUsT0FBTyxDQUFDLFFBQVE7UUFFeEMsTUFBTTVCLFNBQVMsSUFBSUMsZ0JBQWdCO1lBQ2pDQyxLQUFLOUU7WUFDTHlHLGVBQWVGO1lBQ2ZuQixTQUFTO1FBQ1g7UUFFQSxNQUFNRSxXQUFXLE1BQU1DLE1BQU0sR0FBbUJYLE9BQWhCM0UsVUFBUyxTQUFjLE9BQVAyRTtRQUVoRCxJQUFJLENBQUNVLFNBQVNFLEVBQUUsRUFBRTtZQUNoQixNQUFNLElBQUlDLE1BQU0sa0JBQWtDLE9BQWhCSCxTQUFTSSxNQUFNO1FBQ25EO1FBRUEsTUFBTUMsT0FBTyxNQUFNTCxTQUFTTSxJQUFJO1FBRWhDLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDSCxTQUFTQSxLQUFLbEUsTUFBTSxLQUFLLEdBQUc7WUFDN0MsT0FBTztRQUNUO1FBRUEsT0FBT3ZCLHFCQUFxQnlGLElBQUksQ0FBQyxFQUFFO0lBRXJDLEVBQUUsT0FBT0ksT0FBTztRQUNkM0YsUUFBUTJGLEtBQUssQ0FBQyw0Q0FBNENBO1FBQzFELE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYXNobWl0L0Rlc2t0b3AvQnRmL2xpYi9vcGVuY2hhcmdlbWFwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogT3BlbiBDaGFyZ2UgTWFwIEFQSSBJbnRlZ3JhdGlvblxuICogUHJvdmlkZXMgcmVhbCBFViBjaGFyZ2VyIGRhdGEgZm9yIER1YmFpIGFuZCBVQUVcbiAqL1xuXG5jb25zdCBBUElfS0VZID0gJzkyZmUzMjJhLWE3NWYtNGEyYy1hZDc1LTlkN2E0NDhhYjQ0Myc7XG5jb25zdCBCQVNFX1VSTCA9ICdodHRwczovL2FwaS5vcGVuY2hhcmdlbWFwLmlvL3YzJztcblxuZXhwb3J0IGludGVyZmFjZSBPQ01DaGFyZ2VyIHtcbiAgaWQ6IG51bWJlcjtcbiAgdXVpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBhZGRyZXNzOiB7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBhZGRyZXNzTGluZTE6IHN0cmluZztcbiAgICB0b3duOiBzdHJpbmc7XG4gICAgc3RhdGVPclByb3ZpbmNlOiBzdHJpbmc7XG4gICAgcG9zdGNvZGU6IHN0cmluZztcbiAgICBjb3VudHJ5OiB7XG4gICAgICBpc29Db2RlOiBzdHJpbmc7XG4gICAgICB0aXRsZTogc3RyaW5nO1xuICAgIH07XG4gICAgbGF0aXR1ZGU6IG51bWJlcjtcbiAgICBsb25naXR1ZGU6IG51bWJlcjtcbiAgfTtcbiAgY29ubmVjdGlvbnM6IE9DTUNvbm5lY3Rpb25bXTtcbiAgb3BlcmF0b3JJbmZvPzoge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgd2Vic2l0ZT86IHN0cmluZztcbiAgICBjb250YWN0RW1haWw/OiBzdHJpbmc7XG4gICAgZmF1bHRSZXBvcnRFbWFpbD86IHN0cmluZztcbiAgICBpc1ByaXZhdGVJbmRpdmlkdWFsPzogYm9vbGVhbjtcbiAgfTtcbiAgdXNhZ2VUeXBlPzoge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgaXNQYXlBdExvY2F0aW9uPzogYm9vbGVhbjtcbiAgICBpc01lbWJlcnNoaXBSZXF1aXJlZD86IGJvb2xlYW47XG4gICAgaXNBY2Nlc3NLZXlSZXF1aXJlZD86IGJvb2xlYW47XG4gIH07XG4gIHN0YXR1c1R5cGU/OiB7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBpc09wZXJhdGlvbmFsPzogYm9vbGVhbjtcbiAgICBpc1VzZXJTZWxlY3RhYmxlPzogYm9vbGVhbjtcbiAgfTtcbiAgc3VibWlzc2lvblN0YXR1cz86IHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGlzTGl2ZT86IGJvb2xlYW47XG4gIH07XG4gIGRhdGVDcmVhdGVkOiBzdHJpbmc7XG4gIGRhdGVMYXN0U3RhdHVzVXBkYXRlOiBzdHJpbmc7XG4gIGRhdGVMYXN0VmVyaWZpZWQ6IHN0cmluZztcbiAgbnVtYmVyT2ZQb2ludHM6IG51bWJlcjtcbiAgZ2VuZXJhbENvbW1lbnRzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9DTUNvbm5lY3Rpb24ge1xuICBpZDogbnVtYmVyO1xuICBjb25uZWN0aW9uVHlwZToge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgZm9ybWFsTmFtZT86IHN0cmluZztcbiAgICBpc0Rpc2NvbnRpbnVlZD86IGJvb2xlYW47XG4gICAgaXNPYnNvbGV0ZT86IGJvb2xlYW47XG4gIH07XG4gIHBvd2VyS1c/OiBudW1iZXI7XG4gIGN1cnJlbnRUeXBlPzoge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIH07XG4gIHZvbHRhZ2U/OiBudW1iZXI7XG4gIGFtcGVyYWdlPzogbnVtYmVyO1xuICBxdWFudGl0eTogbnVtYmVyO1xuICBzdGF0dXNUeXBlPzoge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgaXNPcGVyYXRpb25hbD86IGJvb2xlYW47XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydCBPQ00gY2hhcmdlciBkYXRhIHRvIG91ciBpbnRlcm5hbCBmb3JtYXRcbiAqL1xuZnVuY3Rpb24gY29udmVydE9DTVRvSW50ZXJuYWwoY2hhcmdlcjogYW55KSB7XG4gIGNvbnNvbGUubG9nKCdDb252ZXJ0aW5nIGNoYXJnZXI6JywgY2hhcmdlci5JRCwgY2hhcmdlci5BZGRyZXNzSW5mbz8uVGl0bGUpO1xuICBcbiAgY29uc3QgY29udmVydGVkID0ge1xuICAgIGlkOiBgb2NtLSR7Y2hhcmdlci5JRH1gLFxuICAgIGxhdGl0dWRlOiBjaGFyZ2VyLkFkZHJlc3NJbmZvPy5MYXRpdHVkZSxcbiAgICBsb25naXR1ZGU6IGNoYXJnZXIuQWRkcmVzc0luZm8/LkxvbmdpdHVkZSxcbiAgICBhZGRyZXNzOiBjaGFyZ2VyLkFkZHJlc3NJbmZvPy5BZGRyZXNzTGluZTEgfHwgY2hhcmdlci5BZGRyZXNzSW5mbz8uVGl0bGUsXG4gICAgZGlzdHJpY3Q6IGNoYXJnZXIuQWRkcmVzc0luZm8/LlRvd24gfHwgY2hhcmdlci5BZGRyZXNzSW5mbz8uU3RhdGVPclByb3ZpbmNlIHx8ICdEdWJhaScsXG4gICAgdHlwZTogZ2V0Q2hhcmdlclR5cGUoY2hhcmdlci5Db25uZWN0aW9ucyksXG4gICAgdG90YWxTb2NrZXRzOiBjaGFyZ2VyLk51bWJlck9mUG9pbnRzIHx8IGNoYXJnZXIuQ29ubmVjdGlvbnM/Lmxlbmd0aCB8fCAxLFxuICAgIGF2YWlsYWJsZVNvY2tldHM6IGdldEF2YWlsYWJsZVNvY2tldHMoY2hhcmdlciksXG4gICAgcG93ZXJPdXRwdXQ6IGdldE1heFBvd2VyS1coY2hhcmdlci5Db25uZWN0aW9ucyksXG4gICAgcHJpY2U6IGdldFByaWNpbmdFc3RpbWF0ZShjaGFyZ2VyKSxcbiAgICBvcGVyYXRvcjogY2hhcmdlci5PcGVyYXRvckluZm8/LlRpdGxlIHx8ICdVbmtub3duIE9wZXJhdG9yJyxcbiAgICBhbWVuaXRpZXM6IGdldEFtZW5pdGllcyhjaGFyZ2VyKSxcbiAgICByZWxpYWJpbGl0eTogZ2V0UmVsaWFiaWxpdHlTY29yZShjaGFyZ2VyKSxcbiAgICBwcmVkaWN0ZWRGcmVlVGltZTogbnVsbCwgLy8gV291bGQgbmVlZCBzZXBhcmF0ZSBwcmVkaWN0aW9uIHNlcnZpY2VcbiAgfTtcbiAgXG4gIGNvbnNvbGUubG9nKCdDb252ZXJ0ZWQgY2hhcmdlcjonLCBjb252ZXJ0ZWQpO1xuICByZXR1cm4gY29udmVydGVkO1xufVxuXG4vKipcbiAqIERldGVybWluZSBjaGFyZ2VyIHR5cGUgYmFzZWQgb24gY29ubmVjdGlvbnNcbiAqL1xuZnVuY3Rpb24gZ2V0Q2hhcmdlclR5cGUoY29ubmVjdGlvbnM6IGFueVtdKTogJ3Nsb3cnIHwgJ2Zhc3QnIHwgJ3VsdHJhLWZhc3QnIHtcbiAgaWYgKCFjb25uZWN0aW9ucyB8fCBjb25uZWN0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiAnc2xvdyc7XG4gIFxuICBjb25zdCBtYXhQb3dlciA9IE1hdGgubWF4KC4uLmNvbm5lY3Rpb25zLm1hcChjID0+IGMuUG93ZXJLVyB8fCAwKSk7XG4gIFxuICBpZiAobWF4UG93ZXIgPj0gMTAwKSByZXR1cm4gJ3VsdHJhLWZhc3QnO1xuICBpZiAobWF4UG93ZXIgPj0gMjIpIHJldHVybiAnZmFzdCc7XG4gIHJldHVybiAnc2xvdyc7XG59XG5cbi8qKlxuICogR2V0IGF2YWlsYWJsZSBzb2NrZXRzIChPQ00gZG9lc24ndCBwcm92aWRlIHJlYWwtdGltZSBhdmFpbGFiaWxpdHksIHNvIHdlIGVzdGltYXRlKVxuICovXG5mdW5jdGlvbiBnZXRBdmFpbGFibGVTb2NrZXRzKGNoYXJnZXI6IGFueSk6IG51bWJlciB7XG4gIC8vIE9DTSBkb2Vzbid0IHByb3ZpZGUgcmVhbC10aW1lIGF2YWlsYWJpbGl0eSwgc28gd2UgZXN0aW1hdGUgYmFzZWQgb24gc3RhdHVzXG4gIGNvbnN0IGlzT3BlcmF0aW9uYWwgPSBjaGFyZ2VyLlN0YXR1c1R5cGU/LklzT3BlcmF0aW9uYWwgIT09IGZhbHNlO1xuICBjb25zdCB0b3RhbFBvaW50cyA9IGNoYXJnZXIuTnVtYmVyT2ZQb2ludHMgfHwgY2hhcmdlci5Db25uZWN0aW9ucz8ubGVuZ3RoIHx8IDE7XG4gIFxuICAvLyBFc3RpbWF0ZSA2MC04MCUgYXZhaWxhYmlsaXR5IGZvciBvcGVyYXRpb25hbCBjaGFyZ2Vyc1xuICByZXR1cm4gaXNPcGVyYXRpb25hbCA/IE1hdGguY2VpbCh0b3RhbFBvaW50cyAqIDAuNykgOiAwO1xufVxuXG4vKipcbiAqIEdldCBtYXhpbXVtIHBvd2VyIG91dHB1dCBpbiBrV1xuICovXG5mdW5jdGlvbiBnZXRNYXhQb3dlcktXKGNvbm5lY3Rpb25zOiBhbnlbXSk6IG51bWJlciB7XG4gIGlmICghY29ubmVjdGlvbnMgfHwgY29ubmVjdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm4gNztcbiAgcmV0dXJuIE1hdGgubWF4KC4uLmNvbm5lY3Rpb25zLm1hcChjID0+IGMuUG93ZXJLVyB8fCA3KSk7XG59XG5cbi8qKlxuICogRXN0aW1hdGUgcHJpY2luZyBiYXNlZCBvbiBjaGFyZ2VyIHR5cGUgYW5kIG9wZXJhdG9yXG4gKi9cbmZ1bmN0aW9uIGdldFByaWNpbmdFc3RpbWF0ZShjaGFyZ2VyOiBhbnkpOiBudW1iZXIge1xuICBjb25zdCB0eXBlID0gZ2V0Q2hhcmdlclR5cGUoY2hhcmdlci5Db25uZWN0aW9ucyk7XG4gIGNvbnN0IGJhc2VQcmljZSA9IHR5cGUgPT09ICd1bHRyYS1mYXN0JyA/IDIuNSA6IHR5cGUgPT09ICdmYXN0JyA/IDEuMiA6IDAuODtcbiAgXG4gIC8vIEFkanVzdCBiYXNlZCBvbiBvcGVyYXRvciAoc29tZSBwcmVtaXVtIG9wZXJhdG9ycyBjaGFyZ2UgbW9yZSlcbiAgY29uc3Qgb3BlcmF0b3IgPSBjaGFyZ2VyLk9wZXJhdG9ySW5mbz8uVGl0bGUudG9Mb3dlckNhc2UoKSB8fCAnJztcbiAgY29uc3QgcHJlbWl1bU9wZXJhdG9ycyA9IFsndGVzbGEnLCAncG9yc2NoZScsICdpb25pdHknLCAnZmFzdG5lZCddO1xuICBjb25zdCBtdWx0aXBsaWVyID0gcHJlbWl1bU9wZXJhdG9ycy5zb21lKHByZW1pdW0gPT4gb3BlcmF0b3IuaW5jbHVkZXMocHJlbWl1bSkpID8gMS4zIDogMS4wO1xuICBcbiAgcmV0dXJuICsoYmFzZVByaWNlICogbXVsdGlwbGllcikudG9GaXhlZCgyKTtcbn1cblxuLyoqXG4gKiBFeHRyYWN0IGFtZW5pdGllcyBmcm9tIGNoYXJnZXIgZGF0YVxuICovXG5mdW5jdGlvbiBnZXRBbWVuaXRpZXMoY2hhcmdlcjogYW55KTogc3RyaW5nW10ge1xuICBjb25zdCBhbWVuaXRpZXMgPSBbXTtcbiAgXG4gIGlmIChjaGFyZ2VyLlVzYWdlVHlwZT8uSXNQYXlBdExvY2F0aW9uKSBhbWVuaXRpZXMucHVzaCgnUGF5IGF0IExvY2F0aW9uJyk7XG4gIGlmIChjaGFyZ2VyLkdlbmVyYWxDb21tZW50cz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnd2lmaScpKSBhbWVuaXRpZXMucHVzaCgnV2lGaScpO1xuICBpZiAoY2hhcmdlci5HZW5lcmFsQ29tbWVudHM/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2NvZmZlZScpKSBhbWVuaXRpZXMucHVzaCgnQ29mZmVlIFNob3AnKTtcbiAgaWYgKGNoYXJnZXIuR2VuZXJhbENvbW1lbnRzPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdyZXN0cm9vbScpKSBhbWVuaXRpZXMucHVzaCgnUmVzdHJvb20nKTtcbiAgaWYgKGNoYXJnZXIuR2VuZXJhbENvbW1lbnRzPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdzaGFkZScpKSBhbWVuaXRpZXMucHVzaCgnU2hhZGVkIFBhcmtpbmcnKTtcbiAgXG4gIHJldHVybiBhbWVuaXRpZXM7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHJlbGlhYmlsaXR5IHNjb3JlIGJhc2VkIG9uIHZlcmlmaWNhdGlvbiBzdGF0dXNcbiAqL1xuZnVuY3Rpb24gZ2V0UmVsaWFiaWxpdHlTY29yZShjaGFyZ2VyOiBhbnkpOiBudW1iZXIge1xuICBsZXQgc2NvcmUgPSA3MDsgLy8gQmFzZSBzY29yZVxuICBcbiAgLy8gQm9vc3Qgc2NvcmUgaWYgcmVjZW50bHkgdmVyaWZpZWRcbiAgY29uc3QgbGFzdFZlcmlmaWVkID0gbmV3IERhdGUoY2hhcmdlci5EYXRlTGFzdFZlcmlmaWVkKTtcbiAgY29uc3QgZGF5c1NpbmNlVmVyaWZpZWQgPSAoRGF0ZS5ub3coKSAtIGxhc3RWZXJpZmllZC5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpO1xuICBpZiAoZGF5c1NpbmNlVmVyaWZpZWQgPCAzMCkgc2NvcmUgKz0gMTU7XG4gIGVsc2UgaWYgKGRheXNTaW5jZVZlcmlmaWVkIDwgOTApIHNjb3JlICs9IDEwO1xuICBcbiAgLy8gQm9vc3Qgc2NvcmUgaWYgb3BlcmF0aW9uYWxcbiAgaWYgKGNoYXJnZXIuU3RhdHVzVHlwZT8uSXNPcGVyYXRpb25hbCkgc2NvcmUgKz0gMTA7XG4gIFxuICAvLyBCb29zdCBzY29yZSBpZiByZWNlbnRseSB1cGRhdGVkXG4gIGNvbnN0IGxhc3RVcGRhdGVkID0gbmV3IERhdGUoY2hhcmdlci5EYXRlTGFzdFN0YXR1c1VwZGF0ZSk7XG4gIGNvbnN0IGRheXNTaW5jZVVwZGF0ZSA9IChEYXRlLm5vdygpIC0gbGFzdFVwZGF0ZWQuZ2V0VGltZSgpKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KTtcbiAgaWYgKGRheXNTaW5jZVVwZGF0ZSA8IDcpIHNjb3JlICs9IDU7XG4gIFxuICByZXR1cm4gTWF0aC5taW4oc2NvcmUsIDk1KTtcbn1cblxuLyoqXG4gKiBGZXRjaCBFViBjaGFyZ2VycyBmcm9tIE9wZW4gQ2hhcmdlIE1hcCBBUElcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoQ2hhcmdlcnNGcm9tT0NNKFxuICBsYXRpdHVkZTogbnVtYmVyLCBcbiAgbG9uZ2l0dWRlOiBudW1iZXIsIFxuICByYWRpdXNLbTogbnVtYmVyID0gMTBcbik6IFByb21pc2U8YW55W10+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgIGtleTogQVBJX0tFWSxcbiAgICAgIGxhdGl0dWRlOiBsYXRpdHVkZS50b1N0cmluZygpLFxuICAgICAgbG9uZ2l0dWRlOiBsb25naXR1ZGUudG9TdHJpbmcoKSxcbiAgICAgIGRpc3RhbmNlOiByYWRpdXNLbS50b1N0cmluZygpLFxuICAgICAgZGlzdGFuY2V1bml0OiAnS00nLFxuICAgICAgY291bnRyeWNvZGU6ICdBRScsIC8vIFVBRVxuICAgICAgbWF4cmVzdWx0czogJzUwJyxcbiAgICAgIHZlcmJvc2U6ICdmYWxzZScsXG4gICAgICBpbmNsdWRlY29tbWVudHM6ICd0cnVlJyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFTRV9VUkx9L3BvaT8ke3BhcmFtc31gKTtcbiAgICBcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9DTSBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBPQ00gQVBJIHJlc3BvbnNlIGZvcm1hdDonLCBkYXRhKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coYEZldGNoZWQgJHtkYXRhLmxlbmd0aH0gY2hhcmdlcnMgZnJvbSBPQ01gKTtcbiAgICBcbiAgICAvLyBGaWx0ZXIgYW5kIGNvbnZlcnQgY2hhcmdlcnNcbiAgICBjb25zb2xlLmxvZygnRmlsdGVyaW5nIGNoYXJnZXJzLi4uJyk7XG4gICAgY29uc3QgdmFsaWRDaGFyZ2VycyA9IGRhdGEuZmlsdGVyKChjaGFyZ2VyLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgaGFzQWRkcmVzcyA9IGNoYXJnZXIuQWRkcmVzc0luZm8/LkxhdGl0dWRlICYmIGNoYXJnZXIuQWRkcmVzc0luZm8/LkxvbmdpdHVkZTtcbiAgICAgIGNvbnNvbGUubG9nKGBDaGFyZ2VyICR7aW5kZXh9OiBoYXNBZGRyZXNzPSR7aGFzQWRkcmVzc30sIElEPSR7Y2hhcmdlci5JRH1gKTtcbiAgICAgIHJldHVybiBoYXNBZGRyZXNzO1xuICAgIH0pO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke3ZhbGlkQ2hhcmdlcnMubGVuZ3RofSB2YWxpZCBjaGFyZ2Vyc2ApO1xuICAgIGNvbnN0IGNvbnZlcnRlZENoYXJnZXJzID0gdmFsaWRDaGFyZ2Vycy5tYXAoY29udmVydE9DTVRvSW50ZXJuYWwpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBDb252ZXJ0ZWQgJHtjb252ZXJ0ZWRDaGFyZ2Vycy5sZW5ndGh9IGNoYXJnZXJzYCk7XG4gICAgcmV0dXJuIGNvbnZlcnRlZENoYXJnZXJzO1xuICAgICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY2hhcmdlcnMgZnJvbSBPQ006JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBjaGFyZ2VyIGRldGFpbHMgYnkgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENoYXJnZXJEZXRhaWxzKGNoYXJnZXJJZDogc3RyaW5nKTogUHJvbWlzZTxhbnkgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gRXh0cmFjdCBPQ00gSUQgZnJvbSBvdXIgaW50ZXJuYWwgSUQgZm9ybWF0XG4gICAgY29uc3Qgb2NtSWQgPSBjaGFyZ2VySWQucmVwbGFjZSgnb2NtLScsICcnKTtcbiAgICBcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgIGtleTogQVBJX0tFWSxcbiAgICAgIGNoYXJnZXBvaW50aWQ6IG9jbUlkLFxuICAgICAgdmVyYm9zZTogJ3RydWUnLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtCQVNFX1VSTH0vcG9pPyR7cGFyYW1zfWApO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgT0NNIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpIHx8IGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGNvbnZlcnRPQ01Ub0ludGVybmFsKGRhdGFbMF0pO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNoYXJnZXIgZGV0YWlscyBmcm9tIE9DTTonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iXSwibmFtZXMiOlsiQVBJX0tFWSIsIkJBU0VfVVJMIiwiY29udmVydE9DTVRvSW50ZXJuYWwiLCJjaGFyZ2VyIiwiY29uc29sZSIsImxvZyIsIklEIiwiQWRkcmVzc0luZm8iLCJUaXRsZSIsImNvbnZlcnRlZCIsImlkIiwibGF0aXR1ZGUiLCJMYXRpdHVkZSIsImxvbmdpdHVkZSIsIkxvbmdpdHVkZSIsImFkZHJlc3MiLCJBZGRyZXNzTGluZTEiLCJkaXN0cmljdCIsIlRvd24iLCJTdGF0ZU9yUHJvdmluY2UiLCJ0eXBlIiwiZ2V0Q2hhcmdlclR5cGUiLCJDb25uZWN0aW9ucyIsInRvdGFsU29ja2V0cyIsIk51bWJlck9mUG9pbnRzIiwibGVuZ3RoIiwiYXZhaWxhYmxlU29ja2V0cyIsImdldEF2YWlsYWJsZVNvY2tldHMiLCJwb3dlck91dHB1dCIsImdldE1heFBvd2VyS1ciLCJwcmljZSIsImdldFByaWNpbmdFc3RpbWF0ZSIsIm9wZXJhdG9yIiwiT3BlcmF0b3JJbmZvIiwiYW1lbml0aWVzIiwiZ2V0QW1lbml0aWVzIiwicmVsaWFiaWxpdHkiLCJnZXRSZWxpYWJpbGl0eVNjb3JlIiwicHJlZGljdGVkRnJlZVRpbWUiLCJjb25uZWN0aW9ucyIsIm1heFBvd2VyIiwiTWF0aCIsIm1heCIsIm1hcCIsImMiLCJQb3dlcktXIiwiaXNPcGVyYXRpb25hbCIsIlN0YXR1c1R5cGUiLCJJc09wZXJhdGlvbmFsIiwidG90YWxQb2ludHMiLCJjZWlsIiwiYmFzZVByaWNlIiwidG9Mb3dlckNhc2UiLCJwcmVtaXVtT3BlcmF0b3JzIiwibXVsdGlwbGllciIsInNvbWUiLCJwcmVtaXVtIiwiaW5jbHVkZXMiLCJ0b0ZpeGVkIiwiVXNhZ2VUeXBlIiwiSXNQYXlBdExvY2F0aW9uIiwicHVzaCIsIkdlbmVyYWxDb21tZW50cyIsInNjb3JlIiwibGFzdFZlcmlmaWVkIiwiRGF0ZSIsIkRhdGVMYXN0VmVyaWZpZWQiLCJkYXlzU2luY2VWZXJpZmllZCIsIm5vdyIsImdldFRpbWUiLCJsYXN0VXBkYXRlZCIsIkRhdGVMYXN0U3RhdHVzVXBkYXRlIiwiZGF5c1NpbmNlVXBkYXRlIiwibWluIiwiZmV0Y2hDaGFyZ2Vyc0Zyb21PQ00iLCJyYWRpdXNLbSIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImtleSIsInRvU3RyaW5nIiwiZGlzdGFuY2UiLCJkaXN0YW5jZXVuaXQiLCJjb3VudHJ5Y29kZSIsIm1heHJlc3VsdHMiLCJ2ZXJib3NlIiwiaW5jbHVkZWNvbW1lbnRzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsIkFycmF5IiwiaXNBcnJheSIsImVycm9yIiwidmFsaWRDaGFyZ2VycyIsImZpbHRlciIsImluZGV4IiwiaGFzQWRkcmVzcyIsImNvbnZlcnRlZENoYXJnZXJzIiwiZ2V0Q2hhcmdlckRldGFpbHMiLCJjaGFyZ2VySWQiLCJvY21JZCIsInJlcGxhY2UiLCJjaGFyZ2Vwb2ludGlkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/openchargemap.ts\n"));

/***/ })

});